<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate dry soil colors from moist soil colors and vice versa. — estimateSoilColor • aqp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate dry soil colors from moist soil colors and vice versa. — estimateSoilColor"><meta name="description" content="Soil color is typically described at dry and moist conditions. This function attempts to estimate soil color at dry or moist condition when one is missing. Estimation proceeds as:
convert Munsell notation to CIELAB color coordinates via munsell2rgb()
apply scaling, rotation, and translation parameters in CIELAB color space
locate closest Munsell chip to CIELAB coordinates via col2munsell()


Estimation of dry from moist soil color state is not guaranteed to be symmetric with estimation of moist from dry."><meta property="og:description" content="Soil color is typically described at dry and moist conditions. This function attempts to estimate soil color at dry or moist condition when one is missing. Estimation proceeds as:
convert Munsell notation to CIELAB color coordinates via munsell2rgb()
apply scaling, rotation, and translation parameters in CIELAB color space
locate closest Munsell chip to CIELAB coordinates via col2munsell()


Estimation of dry from moist soil color state is not guaranteed to be symmetric with estimation of moist from dry."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aqp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aqp-overview.html">An Overview of the aqp Package</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a></li>
    <li><a class="dropdown-item" href="../articles/label-placement.html">Overlapping Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/missing-data.html">Missing Data</a></li>
    <li><a class="dropdown-item" href="../articles/Munsell-color-conversion.html">Munsell Color Conversion</a></li>
    <li><a class="dropdown-item" href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a></li>
    <li><a class="dropdown-item" href="../articles/new-in-aqp-2.html">What is new in aqp 2.x?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/aqp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate dry soil colors from moist soil colors and vice versa.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/master/R/estimateSoilColor.R" class="external-link"><code>R/estimateSoilColor.R</code></a></small>
      <div class="d-none name"><code>estimateSoilColor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Soil color is typically described at dry and moist conditions. This function attempts to estimate soil color at dry or moist condition when one is missing. Estimation proceeds as:</p><ul><li><p>convert Munsell notation to CIELAB color coordinates via <code><a href="munsell2rgb.html">munsell2rgb()</a></code></p></li>
<li><p>apply scaling, rotation, and translation parameters in CIELAB color space</p></li>
<li><p>locate closest Munsell chip to CIELAB coordinates via <code>col2munsell()</code></p></li>
</ul><p>Estimation of dry from moist soil color state is not guaranteed to be symmetric with estimation of moist from dry.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">estimateSoilColor</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span>, sourceMoistureState <span class="op">=</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"dry"</span>, <span class="st">"moist"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-hue">hue<a class="anchor" aria-label="anchor" href="#arg-hue"></a></dt>
<dd><p>vector of Munsell hue ('10YR', '2.5Y', etc.)</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>vector of Munsell value (2,2.5 2.5, 3, 5, 6, etc.)</p></dd>


<dt id="arg-chroma">chroma<a class="anchor" aria-label="anchor" href="#arg-chroma"></a></dt>
<dd><p>vector of Munsell chroma (2, 3, 4, etc.)</p></dd>


<dt id="arg-sourcemoisturestate">sourceMoistureState<a class="anchor" aria-label="anchor" href="#arg-sourcemoisturestate"></a></dt>
<dd><p>character, source colors are either 'dry' or 'moist'</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>data.frame</code> of estimated colors in Munsell notation. The <code>sigma</code> column contains CIE2000 color contrast metric values describing the perceptual distance between estimated color in CIELAB coordinates and closest Munsell chip.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Scaling, rotation, and translation parameters for shifting between dry &lt;–&gt; moist CIELAB coordinates was determined using <code>vegan::procrustes()</code>, from those official series descriptions (OSD) where moist and dry soil colors were available.</p>
<p>Estimates for colors having a (dry or moist) Munsell value of 10 are not likely correct.</p>
<p>This is still a work in progress.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>D.E. Beaudette</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># keep examples from using more than 2 cores</span></span></span>
<span class="r-in"><span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/openmp-utils.html" class="external-link">setDTthreads</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OMP_THREAD_LIMIT"</span>, unset <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">estimateSoilColor</span><span class="op">(</span>hue <span class="op">=</span> <span class="st">'10YR'</span>, value <span class="op">=</span> <span class="fl">3</span>, chroma <span class="op">=</span> <span class="fl">3</span>, sourceMoistureState <span class="op">=</span> <span class="st">'moist'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hue value chroma    sigma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 10YR     4      4 4.112413</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note that estimation is not symmetric</span></span></span>
<span class="r-in"><span><span class="fu">estimateSoilColor</span><span class="op">(</span>hue <span class="op">=</span> <span class="st">'10YR'</span>, value <span class="op">=</span> <span class="fl">5</span>, chroma <span class="op">=</span> <span class="fl">3</span>, sourceMoistureState <span class="op">=</span> <span class="st">'dry'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     hue value chroma    sigma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 7.5YR     4      2 1.867093</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown, Stephen Roecker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

