<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Textural conversions — texcl_to_ssc • aqp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Textural conversions — texcl_to_ssc"><meta name="description" content="These functions consist of several conversions between sand, silt and clay
to texture class and visa versa, textural modifiers to rock fragments, and
grain size composition to the family particle size class."><meta property="og:description" content="These functions consist of several conversions between sand, silt and clay
to texture class and visa versa, textural modifiers to rock fragments, and
grain size composition to the family particle size class."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aqp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aqp-overview.html">An Overview of the aqp Package</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a></li>
    <li><a class="dropdown-item" href="../articles/label-placement.html">Overlapping Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/missing-data.html">Missing Data</a></li>
    <li><a class="dropdown-item" href="../articles/Munsell-color-conversion.html">Munsell Color Conversion</a></li>
    <li><a class="dropdown-item" href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a></li>
    <li><a class="dropdown-item" href="../articles/new-in-aqp-2.html">What is new in aqp 2.x?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/aqp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Textural conversions</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/master/R/texture.R" class="external-link"><code>R/texture.R</code></a></small>
      <div class="d-none name"><code>texture.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions consist of several conversions between sand, silt and clay
to texture class and visa versa, textural modifiers to rock fragments, and
grain size composition to the family particle size class.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">texcl_to_ssc</span><span class="op">(</span>texcl <span class="op">=</span> <span class="cn">NULL</span>, clay <span class="op">=</span> <span class="cn">NULL</span>, sample <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ssc_to_texcl</span><span class="op">(</span></span>
<span>  sand <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  clay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as.is <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  droplevels <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">texmod_to_fragvoltot</span><span class="op">(</span>texmod <span class="op">=</span> <span class="cn">NULL</span>, lieutex <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">texture_to_taxpartsize</span><span class="op">(</span></span>
<span>  texcl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  clay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sand <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sandvf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fragvoltot <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">texture_to_texmod</span><span class="op">(</span><span class="va">texture</span>, duplicates <span class="op">=</span> <span class="st">"combine"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fragvol_to_texmod</span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gravel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cobbles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stones <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  boulders <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  channers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  flagstones <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paragravel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paracobbles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parastones <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paraboulders <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parachanners <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paraflagstones <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  as.is <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  droplevels <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-texcl">texcl<a class="anchor" aria-label="anchor" href="#arg-texcl"></a></dt>
<dd><p>vector of texture classes than conform to the USDA code
conventions (e.g. c|C, sil|SIL, sl|SL, cos|COS)</p></dd>


<dt id="arg-clay">clay<a class="anchor" aria-label="anchor" href="#arg-clay"></a></dt>
<dd><p>vector of clay percentages</p></dd>


<dt id="arg-sample">sample<a class="anchor" aria-label="anchor" href="#arg-sample"></a></dt>
<dd><p>logical: should ssc be random sampled from the lookup table?
(default: FALSE)</p></dd>


<dt id="arg-sand">sand<a class="anchor" aria-label="anchor" href="#arg-sand"></a></dt>
<dd><p>vector of sand percentages</p></dd>


<dt id="arg-simplify">simplify<a class="anchor" aria-label="anchor" href="#arg-simplify"></a></dt>
<dd><p>Passed to <code><a href="SoilTextureLevels.html">SoilTextureLevels()</a></code> to set the number of possible texture classes. If <code>TRUE</code>, the ordered factor has a maximum of 12 levels, if <code>FALSE</code> (default) the ordered factor has a maximum of 21 levels (including e.g. very fine/fine/coarse variants)</p></dd>


<dt id="arg-as-is">as.is<a class="anchor" aria-label="anchor" href="#arg-as-is"></a></dt>
<dd><p>logical: should character vectors be converted to factors?
(default: TRUE)</p></dd>


<dt id="arg-droplevels">droplevels<a class="anchor" aria-label="anchor" href="#arg-droplevels"></a></dt>
<dd><p>logical: indicating whether to drop unused levels in
factors. This is useful when the results have a large number of unused
classes, which can waste space in tables and figures.</p></dd>


<dt id="arg-texmod">texmod<a class="anchor" aria-label="anchor" href="#arg-texmod"></a></dt>
<dd><p>vector of textural modifiers that conform to the USDA code
conventions (e.g. gr|GR, grv|GRV)</p></dd>


<dt id="arg-lieutex">lieutex<a class="anchor" aria-label="anchor" href="#arg-lieutex"></a></dt>
<dd><p>vector of in lieu of texture terms that conform to the USDA
code conventions (e.g. gr|GR, pg|PG), only used when fragments or artifacts
are &gt; 90 percent by volume (default: NULL))</p></dd>


<dt id="arg-sandvf">sandvf<a class="anchor" aria-label="anchor" href="#arg-sandvf"></a></dt>
<dd><p>vector of very fine sand percentages</p></dd>


<dt id="arg-fragvoltot">fragvoltot<a class="anchor" aria-label="anchor" href="#arg-fragvoltot"></a></dt>
<dd><p>vector of total rock fragment percentages</p></dd>


<dt id="arg-texture">texture<a class="anchor" aria-label="anchor" href="#arg-texture"></a></dt>
<dd><p>vector of combinations of texcl, texmod, and lieutex (e.g. CL, GR-CL, CBV-S, GR)</p></dd>


<dt id="arg-duplicates">duplicates<a class="anchor" aria-label="anchor" href="#arg-duplicates"></a></dt>
<dd><p>character: specifying how multiple values should be handled, options are <code>"combined"</code> (e.g. 'GR &amp; GRV) or <code>"max"</code>(e.g. 'GRV')</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>data.frame: containing the following column names: gravel, cobbles,
stones, boulders, channers, flagstones, paragravel, paracobbles, parastones,
paraboulders, parachanners, paraflagstones</p></dd>


<dt id="arg-gravel">gravel<a class="anchor" aria-label="anchor" href="#arg-gravel"></a></dt>
<dd><p>numeric: gravel volume %</p></dd>


<dt id="arg-cobbles">cobbles<a class="anchor" aria-label="anchor" href="#arg-cobbles"></a></dt>
<dd><p>numeric: cobble volume %</p></dd>


<dt id="arg-stones">stones<a class="anchor" aria-label="anchor" href="#arg-stones"></a></dt>
<dd><p>numeric: stone volume %</p></dd>


<dt id="arg-boulders">boulders<a class="anchor" aria-label="anchor" href="#arg-boulders"></a></dt>
<dd><p>numeric: boulder volume %</p></dd>


<dt id="arg-channers">channers<a class="anchor" aria-label="anchor" href="#arg-channers"></a></dt>
<dd><p>numeric: channer volume %</p></dd>


<dt id="arg-flagstones">flagstones<a class="anchor" aria-label="anchor" href="#arg-flagstones"></a></dt>
<dd><p>numeric: flagstone volume %</p></dd>


<dt id="arg-paragravel">paragravel<a class="anchor" aria-label="anchor" href="#arg-paragravel"></a></dt>
<dd><p>numeric: para gravel volume %</p></dd>


<dt id="arg-paracobbles">paracobbles<a class="anchor" aria-label="anchor" href="#arg-paracobbles"></a></dt>
<dd><p>numeric: para cobble volume %</p></dd>


<dt id="arg-parastones">parastones<a class="anchor" aria-label="anchor" href="#arg-parastones"></a></dt>
<dd><p>numeric: para stone volume %</p></dd>


<dt id="arg-paraboulders">paraboulders<a class="anchor" aria-label="anchor" href="#arg-paraboulders"></a></dt>
<dd><p>numeric: para boulder volume %</p></dd>


<dt id="arg-parachanners">parachanners<a class="anchor" aria-label="anchor" href="#arg-parachanners"></a></dt>
<dd><p>numeric: para channer volume %</p></dd>


<dt id="arg-paraflagstones">paraflagstones<a class="anchor" aria-label="anchor" href="#arg-paraflagstones"></a></dt>
<dd><p>numeric: para flagstone volume %</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p><code>texcl_to_ssc</code>: A <code>data.frame</code> containing columns <code>"sand"</code>,<code>"silt"</code>, <code>"clay"</code></p></li>
</ul><ul><li><p><code>ssc_to_texcl</code>: A <code>character</code> vector containing texture class</p></li>
</ul><ul><li><p><code>texmod_to_fragvoltot</code>: A <code>data.frame</code> containing columns <code>"fragvoltot_l"</code>,
<code>"fragvoltot_r"</code>, <code>"fragvoltot_h"</code>, <code>"fragvoltot_l_nopf"</code>, <code>"fragvoltot_r_nopf"</code>, <code>"fragvoltot_h_nopf"</code></p></li>
</ul><ul><li><p><code>texture_to_taxpartsize</code>: a character vector containing <code>"taxpartsize"</code> classes</p></li>
</ul><ul><li><p><code>texture_to_texmod</code>: a character vector containing <code>"texmod"</code> classes</p></li>
</ul><ul><li><p><code>texmod_to_fragvol</code>: a data.frame containing <code>"texmod"</code> and <code>"lieutex"</code> classes</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions are intended to estimate missing values or allocate particle
size fractions to classes. The <code>ssc_to_texcl()</code> function uses the same
logic as the particle size estimator calculation in NASIS to classify sand
and clay into texture class. The results are stored in <code>soiltexture</code>
and used by <code>texcl_to_ssc()</code> as a lookup table to convert texture class
to sand, silt and clay. The function <code>texcl_to_ssc()</code> replicates the
functionality described by Levi (2017). The <code>texmod_to_fragvol()</code>
function similarly uses the logical from the
Exhibit618-11_texture_modifier.xls spreadsheet to determine the textural
modifier from the various combinations of rock and pararock fragments
(e.g. GR and PGR).</p>
<p>When <code>sample = TRUE</code>, the results can be used to estimate within-class,
marginal distributions of sand, silt, and clay fractions. It is recommended
that at least 10 samples be drawn for reasonable estimates.</p>
<p>The function <code>texmod_to_fragvoltot</code> returns a data.frame with multiple
fragvoltot columns differentiated by tailing abbreviations (e.g. _r) which
refer to the following:</p><ol><li><p>l = low</p></li>
<li><p>r = representative</p></li>
<li><p>h = high</p></li>
<li><p>nopf = no pararock fragments (i.e. total fragments - pararock fragments)</p></li>
</ol><p>The function <code>texture_to_texmod()</code> parses texture (e.g. GR-CL) to extract the texmod values from it in the scenario where it is missing from
texmod column. If multiple texmod values are present (for example in the
case of stratified textures) and <code>duplicates = "combine"</code> they will be combined in the output (e.g. GR &amp; CBV). Otherwise if <code>duplicates = "max"</code>
the texmod with the highest rock fragment (e.g. CBV) will be returned.</p>
<p>Unlike the other functions, <code>texture_to_taxpartsize()</code> is intended to
be computed on weighted averages within the family particle size control
section. Also recall from the criteria that carbonate clay should be
subtracted from clay content and added to silt content. Similarly, if the
percent of very fine sand is known it should be subtracted from the sand,
and added to the silt content. Unlike the other functions,
<code>texture_to_taxpartsize()</code> is intended to be computed on weighted
averages within the family particle size control section. Also recall from
the criteria that carbonate clay should be subtracted from clay content and
added to silt content. Similarly, if the percent of very fine sand is known
it should be subtracted from the sand, and added to the silt content.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Matthew R. Levi, Modified Centroid for Estimating Sand, Silt, and Clay from Soil Texture Class, Soil Science Society of America Journal, 2017, 81(3):578-588, ISSN 1435-0661, <a href="https://doi.org/10.2136/sssaj2016.09.0301" class="external-link">doi:10.2136/sssaj2016.09.0301</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SoilTextureLevels.html">SoilTextureLevels</a></code></p>
<p><code><a href="hz_to_taxpartsize.html">hz_to_taxpartsize()</a></code>, <code><a href="lookup_taxpartsize.html">lookup_taxpartsize()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Stephen Roecker</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># example of ssc_to_texcl()</span></span></span>
<span class="r-in"><span><span class="va">tex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>sand <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">100</span>, clay <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tex</span> <span class="op">&lt;-</span> <span class="fu"><a href="subset-SoilProfileCollection-method.html">subset</a></span><span class="op">(</span><span class="va">tex</span>, <span class="op">(</span><span class="va">sand</span> <span class="op">+</span> <span class="va">clay</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">101</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tex</span><span class="op">$</span><span class="va">texcl</span> <span class="op">&lt;-</span> <span class="fu">ssc_to_texcl</span><span class="op">(</span>sand <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">sand</span>, clay <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">clay</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sand clay texcl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0    0    si</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1    0    si</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    2    0    si</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    3    0    si</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    4    0    si</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    5    0    si</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of texcl_to_ssc(texcl)</span></span></span>
<span class="r-in"><span><span class="va">texcl</span> <span class="op">&lt;-</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"cos"</span>, <span class="st">"s"</span>, <span class="st">"fs"</span>, <span class="st">"vfs"</span>, <span class="st">"lcos"</span>, <span class="st">"ls"</span>,</span></span>
<span class="r-in"><span>          <span class="st">"lfs"</span>, <span class="st">"lvfs"</span>, <span class="st">"cosl"</span>, <span class="st">"sl"</span>, <span class="st">"fsl"</span>, <span class="st">"vfsl"</span>, <span class="st">"l"</span>,</span></span>
<span class="r-in"><span>          <span class="st">"sil"</span>, <span class="st">"si"</span>, <span class="st">"scl"</span>, <span class="st">"cl"</span>, <span class="st">"sicl"</span>, <span class="st">"sc"</span>, <span class="st">"sic"</span>, <span class="st">"c"</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">texcl_to_ssc</span><span class="op">(</span><span class="va">texcl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">texcl</span>, <span class="va">test</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    texcl sand silt clay</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    cos   92    5    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      s   92    5    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     fs   92    5    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    vfs   92    5    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   lcos   82   12    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     ls   82   12    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    lfs   82   12    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   lvfs   82   12    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   cosl   65   25   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    sl   65   25   10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of texcl_to_ssc(texcl, clay)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">soiltexture</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st</span> <span class="op">&lt;-</span> <span class="va">soiltexture</span><span class="op">$</span><span class="va">values</span></span></span>
<span class="r-in"><span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="length.html">length</a></span><span class="op">(</span><span class="va">st</span><span class="op">$</span><span class="va">texcl</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st</span> <span class="op">&lt;-</span> <span class="va">st</span><span class="op">[</span><span class="va">idx</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">ssc</span> <span class="op">&lt;-</span> <span class="fu">texcl_to_ssc</span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">st</span><span class="op">$</span><span class="va">texcl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">st</span><span class="op">$</span><span class="va">texcl</span>, clay <span class="op">=</span> <span class="va">ssc</span><span class="op">$</span><span class="va">clay</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      texcl  clay</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "c"    "55"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "sicl" "33"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "sl"   "10"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "sc"   "41"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "cl"   "33"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] "sicl" "33"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of texmod_to_fragvoltol</span></span></span>
<span class="r-in"><span><span class="va">frags</span> <span class="op">&lt;-</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"gr"</span>, <span class="st">"grv"</span>, <span class="st">"grx"</span>, <span class="st">"pgr"</span>, <span class="st">"pgrv"</span>, <span class="st">"pgrx"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">texmod_to_fragvoltot</span><span class="op">(</span><span class="va">frags</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fragvoltot_l fragvoltot_r fragvoltot_h fragvoltot_h_nopf fragvoltot_r_nopf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           15           25           34                34                25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           35           48           59                59                48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           60           75           89                89                75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           15           25           34                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           35           48           59                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           60           75           89                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fragvoltot_l_nopf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of texture_to_taxpartsize()</span></span></span>
<span class="r-in"><span><span class="va">tex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>texcl <span class="op">=</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"cl"</span>, <span class="st">"l"</span>, <span class="st">"ls"</span>, <span class="st">"s"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  clay  <span class="op">=</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">55</span>, <span class="fl">33</span>, <span class="fl">18</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  sand  <span class="op">=</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">33</span>, <span class="fl">42</span>, <span class="fl">82</span>, <span class="fl">93</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  fragvoltot <span class="op">=</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">35</span>, <span class="fl">15</span>, <span class="fl">34</span>, <span class="fl">60</span>, <span class="fl">91</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tex</span><span class="op">$</span><span class="va">fpsc</span> <span class="op">&lt;-</span> <span class="fu">texture_to_taxpartsize</span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">texcl</span>,</span></span>
<span class="r-in"><span>                                   clay <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">clay</span>,</span></span>
<span class="r-in"><span>                                   sand <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">sand</span>,</span></span>
<span class="r-in"><span>                                   fragvoltot <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">fragvoltot</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   texcl clay sand fragvoltot            fpsc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     c   55   20         35 clayey-skeletal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    cl   33   33         15      fine-loamy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     l   18   42         34      fine-loamy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    ls    6   82         60  sandy-skeletal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     s    3   93         91      fragmental</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of texture_to_taxpartsize() with carbonate clay and very fine sand</span></span></span>
<span class="r-in"><span><span class="va">carbclay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st</span><span class="op">$</span><span class="va">fpsc</span> <span class="op">&lt;-</span> <span class="fu">texture_to_taxpartsize</span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">texcl</span>,</span></span>
<span class="r-in"><span>                                  clay <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">clay</span> <span class="op">-</span> <span class="va">carbclay</span>,</span></span>
<span class="r-in"><span>                                  sand <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">sand</span> <span class="op">-</span> <span class="va">vfs</span>,</span></span>
<span class="r-in"><span>                                  fragvoltot <span class="op">=</span> <span class="va">tex</span><span class="op">$</span><span class="va">fragvoltot</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>some of the texcl records don't match the calculated texcl via ssc_to_texcl()</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   texcl clay sand fragvoltot            fpsc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     c   55   20         35 clayey-skeletal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    cl   33   33         15      fine-loamy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     l   18   42         34      fine-loamy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    ls    6   82         60  sandy-skeletal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     s    3   93         91      fragmental</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of sample = TRUE</span></span></span>
<span class="r-in"><span><span class="va">texcl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"cl"</span>, <span class="st">"sil"</span>, <span class="st">"sl"</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ssc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">texcl</span>, <span class="fu">texcl_to_ssc</span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">texcl</span>, sample <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ssc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">texcl</span>, <span class="fu">texcl_to_ssc</span><span class="op">(</span>texcl <span class="op">=</span> <span class="va">texcl</span>, sample <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ssc1</span><span class="op">$</span><span class="va">sample</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="va">ssc2</span><span class="op">$</span><span class="va">sample</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="va">ssc</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">ssc1</span>, <span class="va">ssc2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="va">clay</span> <span class="op">~</span> <span class="va">sample</span> <span class="op">+</span> <span class="va">texcl</span>, data <span class="op">=</span> <span class="va">ssc</span>, <span class="va">summary</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sample texcl clay.Min. clay.1st Qu. clay.Median clay.Mean clay.3rd Qu.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  FALSE    cl     33.00        33.00       33.00     33.00        33.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   TRUE    cl     30.00        31.25       33.50     34.00        36.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  FALSE   sil     13.00        13.00       13.00     13.00        13.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   TRUE   sil      1.00         7.50       11.00     12.30        16.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  FALSE    sl     10.00        10.00       10.00     10.00        10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   TRUE    sl     10.00        11.75       15.00     14.30        16.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   clay.Max.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     33.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     39.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     13.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     25.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     10.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     18.00</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># example of texture_to_texmod()</span></span></span>
<span class="r-in"><span><span class="va">tex</span> <span class="op">&lt;-</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"SL"</span>, <span class="st">"GR-SL"</span>, <span class="st">"CBV-L"</span>, <span class="st">"SR- GR-FS GRX-COS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">texture_to_texmod</span><span class="op">(</span><span class="va">tex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA         "gr"       "cbv"      "gr &amp; grx"</span>
<span class="r-in"><span><span class="fu">texture_to_texmod</span><span class="op">(</span><span class="va">tex</span>, duplicates <span class="op">=</span> <span class="st">"max"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA    "gr"  "cbv" "grx"</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># example of fragvol_to_texmod()</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  gravel  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  cobbles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  stones  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  boulders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">100</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># data.frame input</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">fragvol_to_texmod</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">texmod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   by  byv  byx   cb  cbv  cbx   gr  grv  grx   st  stv  stx </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   81  510 2135   37  192  710   20   82  273   57  371 1502 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">lieutex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   by   cb   gr   st </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1634   37    2 1197 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># vector inputs</span></span></span>
<span class="r-in"><span><span class="fu">fragvol_to_texmod</span><span class="op">(</span>gravel <span class="op">=</span> <span class="fl">10</span>, cobbles <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   texmod lieutex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     cb    &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown, Stephen Roecker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

