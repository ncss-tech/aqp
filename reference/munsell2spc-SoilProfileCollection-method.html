<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection — munsell2spc,SoilProfileCollection-method • aqp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection — munsell2spc,SoilProfileCollection-method"><meta name="description" content="Convert Munsell hue, value and chroma into sRGB (rgb_R, rgb_G, rgb_B) and CIELAB (lab_L, lab_A, lab_B) color coordinates using munsell2rgb. The converted values are stored in the horizons() slot unless as.spc is FALSE, in which case the results are combined with profile and horizon ID columns and returned as the data.frame subclass used by the SPC."><meta property="og:description" content="Convert Munsell hue, value and chroma into sRGB (rgb_R, rgb_G, rgb_B) and CIELAB (lab_L, lab_A, lab_B) color coordinates using munsell2rgb. The converted values are stored in the horizons() slot unless as.spc is FALSE, in which case the results are combined with profile and horizon ID columns and returned as the data.frame subclass used by the SPC."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aqp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aqp-overview.html">An Overview of the aqp Package</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a></li>
    <li><a class="dropdown-item" href="../articles/label-placement.html">Overlapping Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/missing-data.html">Missing Data</a></li>
    <li><a class="dropdown-item" href="../articles/Munsell-color-conversion.html">Munsell Color Conversion</a></li>
    <li><a class="dropdown-item" href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a></li>
    <li><a class="dropdown-item" href="../articles/new-in-aqp-2.html">What is new in aqp 2.x?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/aqp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/master/R/munsell2rgb.R" class="external-link"><code>R/munsell2rgb.R</code></a></small>
      <div class="d-none name"><code>munsell2spc-SoilProfileCollection-method.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert Munsell hue, value and chroma into sRGB (<code>rgb_R, rgb_G, rgb_B</code>) and CIELAB (lab_L, lab_A, lab_B) color coordinates using <code>munsell2rgb</code>. The converted values are stored in the <code><a href="horizons.html">horizons()</a></code> slot unless <code>as.spc</code> is <code>FALSE</code>, in which case the results are combined with profile and horizon ID columns and returned as the <code>data.frame</code> subclass used by the SPC.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'SoilProfileCollection'</span></span>
<span><span class="fu">munsell2spc</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  hue <span class="op">=</span> <span class="st">"hue"</span>,</span>
<span>  value <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  chroma <span class="op">=</span> <span class="st">"chroma"</span>,</span>
<span>  .data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  as.spc <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A SoilProfileCollection</p></dd>


<dt id="arg-hue">hue<a class="anchor" aria-label="anchor" href="#arg-hue"></a></dt>
<dd><p>Column name containing numeric hue values. Default: <code>"hue"</code></p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Column name containing numeric value values. Default: <code>"value"</code></p></dd>


<dt id="arg-chroma">chroma<a class="anchor" aria-label="anchor" href="#arg-chroma"></a></dt>
<dd><p>Column name containing numeric chroma values. Default: <code>"chroma"</code></p></dd>


<dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>Optional: a character vector of equal length to number of horizons (containing Munsell notation), or a column name in the horizon data OR a data.frame containing three columns (names specified in <code>hue</code>, <code>value</code>, <code>chroma</code>)</p></dd>


<dt id="arg-as-spc">as.spc<a class="anchor" aria-label="anchor" href="#arg-as-spc"></a></dt>
<dd><p>Return a data.frame-like object with ID columns?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A SoilProfileCollection or <code>data.frame</code>-like object</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="parseMunsell.html">parseMunsell</a></code> <code><a href="rgb2munsell.html">rgb2munsell</a></code> <code><a href="munsell2rgb.html">munsell2rgb</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="depths.html">depths</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">id</span> <span class="op">~</span> <span class="va">top</span> <span class="op">+</span> <span class="va">bottom</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># inspect input data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="horizons.html">horizons</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span><span class="op">[</span>,<span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"hue"</span>,<span class="st">"value"</span>,<span class="st">"chroma"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      hue value chroma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   10YR     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   10YR     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  7.5YR     6      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  7.5YR     6      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2.5Y     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 2.5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  10YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 2.5YR     3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 7.5YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  10YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 7.5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   5YR     5      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 7.5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 2.5YR     4      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 7.5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31   5YR     5      7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  10YR     4      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  10YR     6      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  2.5Y     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  2.5Y     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  10YR     4      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  10YR     6      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  2.5Y     7      2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># do color conversions to sRGB and LAB, join into horizon data</span></span></span>
<span class="r-in"><span><span class="va">sp3</span> <span class="op">&lt;-</span> <span class="fu">munsell2spc</span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot rgb "R" coordinate by horizon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span>, color <span class="op">=</span> <span class="st">"rgb_R"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-1.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot lab "A" coordinate by horizon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span>, color <span class="op">=</span> <span class="st">"lab_A"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-2.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note that `lab_A` values do not exactly match the original `A` values</span></span></span>
<span class="r-in"><span><span class="co"># this is because `lab_A` was computed from the (field determined) Munsell color notation,</span></span></span>
<span class="r-in"><span><span class="co"># while `A` was directly measured in the lab by colorimeter</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">$</span><span class="va">A</span>, <span class="va">sp3</span><span class="op">$</span><span class="va">lab_A</span>, xlab <span class="op">=</span> <span class="st">'Measured'</span>, ylab <span class="op">=</span> <span class="st">'Converted from Field Observed Munsell'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-3.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown, Stephen Roecker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

