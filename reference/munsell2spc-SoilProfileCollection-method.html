<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection — munsell2spc,SoilProfileCollection-method • aqp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection — munsell2spc,SoilProfileCollection-method"><meta property="og:description" content="Convert Munsell hue, value and chroma into sRGB (rgb_R, rgb_G, rgb_B) and CIELAB (lab_L, lab_A, lab_B) color coordinates using munsell2rgb. The converted values are stored in the horizons() slot unless as.spc is FALSE, in which case the results are combined with profile and horizon ID columns and returned as the data.frame subclass used by the SPC."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a>
    </li>
    <li>
      <a href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a>
    </li>
    <li>
      <a href="../articles/label-placement.html">Overlapping Annotation</a>
    </li>
    <li>
      <a href="../articles/new-in-aqp-2.html">What is new in aqp 2.0?</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/aqp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Merge Munsell Hue, Value, Chroma converted to sRGB &amp; CIELAB into a SoilProfileCollection</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/HEAD/R/munsell2rgb.R" class="external-link"><code>R/munsell2rgb.R</code></a></small>
    <div class="hidden name"><code>munsell2spc-SoilProfileCollection-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert Munsell hue, value and chroma into sRGB (<code>rgb_R, rgb_G, rgb_B</code>) and CIELAB (lab_L, lab_A, lab_B) color coordinates using <code>munsell2rgb</code>. The converted values are stored in the <code><a href="horizons.html">horizons()</a></code> slot unless <code>as.spc</code> is <code>FALSE</code>, in which case the results are combined with profile and horizon ID columns and returned as the <code>data.frame</code> subclass used by the SPC.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for SoilProfileCollection</span></span>
<span><span class="fu">munsell2spc</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  hue <span class="op">=</span> <span class="st">"hue"</span>,</span>
<span>  value <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  chroma <span class="op">=</span> <span class="st">"chroma"</span>,</span>
<span>  .data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  as.spc <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>A SoilProfileCollection</p></dd>


<dt>hue</dt>
<dd><p>Column name containing numeric hue values. Default: <code>"hue"</code></p></dd>


<dt>value</dt>
<dd><p>Column name containing numeric value values. Default: <code>"value"</code></p></dd>


<dt>chroma</dt>
<dd><p>Column name containing numeric chroma values. Default: <code>"chroma"</code></p></dd>


<dt>.data</dt>
<dd><p>Optional: a character vector of equal length to number of horizons (containing Munsell notation), or a column name in the horizon data OR a data.frame containing three columns (names specified in <code>hue</code>, <code>value</code>, <code>chroma</code>)</p></dd>


<dt>as.spc</dt>
<dd><p>Return a data.frame-like object with ID columns?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A SoilProfileCollection or <code>data.frame</code>-like object</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="parseMunsell.html">parseMunsell</a></code> <code><a href="rgb2munsell.html">rgb2munsell</a></code> <code><a href="munsell2rgb.html">munsell2rgb</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="depths.html">depths</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">id</span> <span class="op">~</span> <span class="va">top</span> <span class="op">+</span> <span class="va">bottom</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># inspect input data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="horizons.html">horizons</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span><span class="op">[</span>,<span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"hue"</span>,<span class="st">"value"</span>,<span class="st">"chroma"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      hue value chroma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   10YR     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   10YR     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  7.5YR     6      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  7.5YR     6      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2.5Y     6      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 2.5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  10YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 2.5YR     3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 7.5YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20   5YR     4      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  10YR     5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  10YR     5      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 7.5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   5YR     5      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 7.5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 2.5YR     4      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 7.5YR     4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   5YR     5      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31   5YR     5      7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  10YR     4      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  10YR     6      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  10YR     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  2.5Y     5      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  2.5Y     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  10YR     4      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  10YR     6      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  10YR     6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  2.5Y     7      2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># do color conversions to sRGB and LAB, join into horizon data</span></span></span>
<span class="r-in"><span><span class="va">sp3</span> <span class="op">&lt;-</span> <span class="fu">munsell2spc</span><span class="op">(</span><span class="va">sp3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot rgb "R" coordinate by horizon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span>, color <span class="op">=</span> <span class="st">"rgb_R"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-1.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot lab "A" coordinate by horizon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span>, color <span class="op">=</span> <span class="st">"lab_A"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-2.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note that `lab_A` values do not exactly match the original `A` values</span></span></span>
<span class="r-in"><span><span class="co"># this is because `lab_A` was computed from the (field determined) Munsell color notation,</span></span></span>
<span class="r-in"><span><span class="co"># while `A` was directly measured in the lab by colorimeter</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp3</span><span class="op">$</span><span class="va">A</span>, <span class="va">sp3</span><span class="op">$</span><span class="va">lab_A</span>, xlab <span class="op">=</span> <span class="st">'Measured'</span>, ylab <span class="op">=</span> <span class="st">'Converted from Field Observed Munsell'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2spc-SoilProfileCollection-method-3.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

