<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB) — munsell2rgb • aqp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB) — munsell2rgb"><meta property="og:description" content="Color conversion based on a look-up table of common soil colors."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.40</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/aqp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB)</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/HEAD/R/munsell2rgb.R" class="external-link"><code>R/munsell2rgb.R</code></a></small>
    <div class="hidden name"><code>munsell2rgb.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Color conversion based on a look-up table of common soil colors.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">munsell2rgb</span><span class="op">(</span>
  <span class="va">the_hue</span>,
  <span class="va">the_value</span>,
  <span class="va">the_chroma</span>,
  alpha <span class="op">=</span> <span class="fl">1</span>,
  maxColorValue <span class="op">=</span> <span class="fl">1</span>,
  return_triplets <span class="op">=</span> <span class="cn">FALSE</span>,
  returnLAB <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>the_hue</dt>
<dd><p>a vector of one or more more hues, upper-case (e.g. '10YR')</p></dd>
<dt>the_value</dt>
<dd><p>a vector of one or more values (e.g. '4')</p></dd>
<dt>the_chroma</dt>
<dd><p>a vector of one or more chromas (e.g. '6'), may be NA for neutral hues</p></dd>
<dt>alpha</dt>
<dd><p>numeric, transparency setting used when <code>return_triplets = FALSE</code> and <code>returnLAB = FALSE</code></p></dd>
<dt>maxColorValue</dt>
<dd><p>maximum sRGB color value, typically <code>1</code> (see <code><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a>)</code></p></dd>
<dt>return_triplets</dt>
<dd><p>logical, return sRGB coordinates (range 0-1) instead of standard hex notation of sRGB (e.g. '#8080B')</p></dd>
<dt>returnLAB</dt>
<dd><p>logical, return CIELAB coordinates (D65 illuminant)</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A vector of R colors is returned that is the same length as the input data. When <code>return_triplets = TRUE</code> and/or <code>returnLAB = TRUE</code>, then a <code>data.frame</code> (of sample length as input) is returned.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is vectorized without recycling: i.e. the length of each argument must be the same. Both functions will pad output with NA if there are any NA present in the inputs.</p>
<p>Neutral hues are approximated by greyscale shades ranging from 20\<!-- % (darker) to 80\\% (lighter). No chroma is required for neutral hues. --></p>
<p>Gley soil colors that are missing a chroma will not be correctly interpreted. Consider using a chroma of 1.
Values of "2.5" (common in soil color descriptions) are silently truncated to "2".
Non-standard Munsell notation (e.g. '7.9YR 2.7/2.0') can be matched (nearest-neighbor, no interpolation) to the closest color within the <code>munsell</code> sRGB/CIELAB look-up table via <code><a href="getClosestMunsellChip.html">getClosestMunsellChip()</a></code>. A more accurate estimate of sRGB values from non-standard notation can be achieved with the <a href="https://CRAN.R-project.org/package=munsellinterpol" class="external-link">munsellinterpol</a> package.</p>
<p>See examples below.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Care should be taken when using the resulting sRGB values; they are close to their Munsell counterparts, but will vary based on your monitor and ambient lighting conditions. Also, the value used for <code>maxColorValue</code> will affect the brightness of the colors. Th default value (1) will usually give acceptable results, but can be adjusted to force the colors closer to what the user thinks they should look like.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p><a href="http://ncss-tech.github.io/AQP/" class="external-link">http://ncss-tech.github.io/AQP/</a>
<a href="http://www.brucelindbloom.com/index.html?ColorCalcHelp.html" class="external-link">http://www.brucelindbloom.com/index.html?ColorCalcHelp.html</a>
<a href="http://www.cis.rit.edu/mcsl/online/munsell.php" class="external-link">http://www.cis.rit.edu/mcsl/online/munsell.php</a>
<a href="https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html" class="external-link">https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>D.E. Beaudette</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># neutral heues (N) map to approximate greyscale colors</span></span>
<span class="r-in"><span class="co"># chroma may be any number or NA</span></span>
<span class="r-in"><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="st">'N'</span>, value<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span>, chroma<span class="op">=</span><span class="cn">NA</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">g</span><span class="op">$</span><span class="va">hue</span>, <span class="va">g</span><span class="op">$</span><span class="va">value</span>, <span class="va">g</span><span class="op">$</span><span class="va">chroma</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#333333FF" "#4D4D4DFF" "#666666FF" "#808080FF" "#999999FF" "#B3B3B3FF"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "#CCCCCCFF"</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># basic example</span></span>
<span class="r-in"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="st">'10YR'</span>, value<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span>, chroma<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">d</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># similar to the 10YR color book page</span></span>
<span class="r-in"><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">value</span> <span class="op">~</span> <span class="va">chroma</span>, data<span class="op">=</span><span class="va">d</span>, col<span class="op">=</span><span class="va">d</span><span class="op">$</span><span class="va">color</span>, pch<span class="op">=</span><span class="fl">15</span>, cex<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-plt img"><img src="munsell2rgb-1.png" alt="" width="768" height="475"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># multiple pages of hue:</span></span>
<span class="r-in"><span class="va">hues</span> <span class="op">&lt;-</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">'2.5YR'</span>,<span class="st">'5YR'</span>,<span class="st">'7.5YR'</span>,<span class="st">'10YR'</span><span class="op">)</span></span>
<span class="r-in"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="va">hues</span>, value<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span>, chroma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># convert Munsell -&gt; sRGB</span></span>
<span class="r-in"><span class="va">d</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># extract CIELAB coordinates</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span>, returnLAB<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            L         A         B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   20.55436  8.803394  7.082935</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   20.55897  7.404575  8.620931</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   20.56333  5.749263 10.048938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   20.56675  4.027043 11.088633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   30.77683  8.884940  8.661683</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   30.78129  7.402794 10.088323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   30.78488  5.942052 11.199223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   30.78856  3.912342 12.210272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   41.23454  8.283917  8.798793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  41.23956  7.047434 10.475890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  41.24347  5.786451 11.738676</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  41.24855  3.681301 13.297617</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  51.59454  7.243568  8.356828</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  51.59928  6.215810  9.916265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  51.60314  5.041770 11.129231</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  51.60822  3.237340 12.698800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  61.69922  7.068858  8.505653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  61.70415  5.997236 10.102962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  61.70852  4.815368 11.485405</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  61.71385  2.895996 13.088811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  71.61412  6.488547  8.042293</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  71.61977  5.636351  9.928776</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  71.62480  4.418365 11.531168</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  71.63044  2.508053 13.229712</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  81.36368  5.616144  7.308386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  81.37052  4.989911  9.656613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  81.37637  3.857152 11.564500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  81.38258  2.071502 13.487861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29  20.56344 16.814418 14.488582</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  20.57184 14.087101 18.201899</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31  20.57891 10.923147 21.406386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  20.58452  7.928173 23.958709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  30.78889 16.325118 16.933367</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  30.79580 13.548688 19.547895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  30.80201 10.730243 21.982404</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  30.80768  7.357185 24.027225</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  41.24892 15.875656 17.613264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  41.25710 13.452854 20.845839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  41.26403 10.868898 23.591401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  41.27066  7.377786 25.999460</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  51.60995 14.379406 16.918987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  51.61858 12.057575 20.148385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  51.62525  9.878406 22.663772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  51.63296  6.610847 25.480428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  61.71555 13.715724 17.028442</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  61.72377 11.550079 19.982060</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47  61.73075  9.329138 22.491219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48  61.73915  5.777720 25.372727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  71.63198 13.252265 16.950165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  71.64089 11.083260 20.102345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  71.64852  8.829089 22.803962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  71.65754  5.287237 25.868885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53  81.38522 13.198219 17.685890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54  81.39402 10.732652 20.649496</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55  81.40177  7.993182 23.189093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56  81.41025  4.587754 25.953475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57  20.56911 24.025340 22.305215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58  20.58071 20.154633 28.579510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59  20.65437 16.026757 29.909286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60  20.72129 12.093562 29.790002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61  30.79796 23.396662 26.027158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62  30.80674 19.311423 30.215390</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  30.81408 14.944396 33.703268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64  30.82068 10.480848 37.016404</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65  41.25969 22.387417 26.284949</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  41.26934 18.736944 30.686421</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67  41.27724 14.986399 34.346508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68  41.28482 10.371457 37.715427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69  51.62348 21.454130 26.339365</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70  51.63431 18.064255 31.110545</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71  51.64277 14.640636 34.876154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72  51.65181  9.949994 38.814033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73  61.72975 20.653822 26.129186</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74  61.74123 17.206122 30.852072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75  61.74994 13.673301 34.361262</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  61.75969  9.068116 38.346467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77  71.64771 20.162113 26.320138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  71.65925 16.625141 30.792995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79  71.66887 12.965722 34.519813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80  71.67921  8.090569 38.448737</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81  81.40098 19.830452 26.729819</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82  81.41250 16.145531 30.970364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83  81.42235 12.381807 34.598236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84  81.43302  7.395373 38.445564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85  20.57257 31.921980 30.642205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86  20.74440 26.958096 30.631558</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87  20.84986 20.445454 30.389480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88  20.90081 15.465119 30.183041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89  30.80405 29.586042 35.965865</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90  30.82143 24.050580 41.566873</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91  30.89446 18.678009 41.171563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92  30.95077 13.630955 40.806708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93  41.26804 28.722474 35.806881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94  41.27823 23.570544 41.040893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95  41.28692 18.369699 45.792198</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96  41.29905 12.776881 49.524120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97  51.63422 28.276539 36.322483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98  51.64596 23.473327 42.230939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  51.65521 18.547743 46.905417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 51.66414 12.641607 51.309637</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 61.74098 27.103511 35.136947</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102 61.75451 22.583574 41.614907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 103 61.76468 17.761040 46.355121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 104 61.77496 11.832154 51.154958</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 105 71.66031 26.546995 35.435454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 71.67345 21.653928 40.984009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 107 71.68472 16.799512 45.947830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 108 71.69579 10.875236 50.760979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109 79.89559 21.412031 34.482215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 110 80.55378 18.479357 41.439973</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111 81.27596 15.902619 46.764165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 81.45209 10.188997 51.368057</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot: note that we are setting panel order from red --&gt; yellow</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://lattice.r-forge.r-project.org/" class="external-link">lattice</a></span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">value</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">chroma</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">hue</span>, levels<span class="op">=</span><span class="va">hues</span><span class="op">)</span>,</span>
<span class="r-in">       main<span class="op">=</span><span class="st">"Common Soil Colors"</span>, layout<span class="op">=</span><span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">1</span><span class="op">)</span>, scales<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>alternating<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span class="r-in">       strip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/strip.default.html" class="external-link">strip.custom</a></span><span class="op">(</span>bg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.85</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">       data<span class="op">=</span><span class="va">d</span>, as.table<span class="op">=</span><span class="cn">TRUE</span>, subscripts<span class="op">=</span><span class="cn">TRUE</span>, xlab<span class="op">=</span><span class="st">'Chroma'</span>, ylab<span class="op">=</span><span class="st">'Value'</span>,</span>
<span class="r-in">       panel<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">subscripts</span>, <span class="va">...</span><span class="op">)</span></span>
<span class="r-in">       <span class="op">{</span></span>
<span class="r-in">         <span class="fu"><a href="https://rdrr.io/pkg/lattice/man/panel.xyplot.html" class="external-link">panel.xyplot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, pch<span class="op">=</span><span class="fl">15</span>, cex<span class="op">=</span><span class="fl">4</span>, col<span class="op">=</span><span class="va">d</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="va">subscripts</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in">       <span class="op">}</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-plt img"><img src="munsell2rgb-2.png" alt="" width="768" height="475"></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># soils example</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sp1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># convert colors</span></span>
<span class="r-in"><span class="va">sp1</span><span class="op">$</span><span class="va">soil_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># simple plot, may need to tweak gamma-correction...</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="nrow.html">nrow</a></span><span class="op">(</span><span class="va">sp1</span><span class="op">)</span><span class="op">)</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, col<span class="op">=</span><span class="va">sp1</span><span class="op">$</span><span class="va">soil_color</span>, main<span class="op">=</span><span class="st">'Soil Colors'</span><span class="op">)</span></span>
<span class="r-plt img"><img src="munsell2rgb-3.png" alt="" width="768" height="475"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># convert into a more useful color space</span></span>
<span class="r-in"><span class="co"># you will need the colorspace package for this to work</span></span>
<span class="r-in"><span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://colorspace.R-Forge.R-project.org/" class="external-link">colorspace</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="co"># keep RGB triplets from conversion</span></span>
<span class="r-in">  <span class="va">sp1.rgb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span>, return_triplets<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co"># convert into LAB color space</span></span>
<span class="r-in">  <span class="va">sp1.lab</span> <span class="op">&lt;-</span> <span class="fu"><a href="coercion-methods.html">as</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1.rgb</span>, <span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/sRGB.html" class="external-link">sRGB</a></span><span class="op">(</span><span class="va">r</span>,<span class="va">g</span>,<span class="va">b</span><span class="op">)</span><span class="op">)</span>, <span class="st">'LAB'</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp1.lab</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: colorspace</span>
<span class="r-plt img"><img src="munsell2rgb-4.png" alt="" width="768" height="475"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># convert a non-standard color to closest "chip" in `munsell` look-up table</span></span>
<span class="r-in"><span class="fu"><a href="getClosestMunsellChip.html">getClosestMunsellChip</a></span><span class="op">(</span><span class="st">'7.9YR 2.7/2.0'</span>, convertColors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "7.5YR 3/2"</span>
<span class="r-in"><span class="co"># convert directly to R color</span></span>
<span class="r-in"><span class="fu"><a href="getClosestMunsellChip.html">getClosestMunsellChip</a></span><span class="op">(</span><span class="st">'7.9YR 2.7/2.0'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#584537FF"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

