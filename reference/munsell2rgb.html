<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB) — munsell2rgb • aqp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB) — munsell2rgb"><meta property="og:description" content="Color conversion based on a look-up table of common soil colors."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a>
    </li>
    <li>
      <a href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a>
    </li>
    <li>
      <a href="../articles/label-placement.html">Overlapping Annotation</a>
    </li>
    <li>
      <a href="../articles/new-in-aqp-2.html">What is new in aqp 2.0?</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/aqp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert Munsell Color Notation to other Color Space Coordinates (sRGB and CIELAB)</h1>
    <small class="dont-index">Source: <a href="https://github.com/ncss-tech/aqp/blob/HEAD/R/munsell2rgb.R" class="external-link"><code>R/munsell2rgb.R</code></a></small>
    <div class="hidden name"><code>munsell2rgb.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Color conversion based on a look-up table of common soil colors.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">munsell2rgb</span><span class="op">(</span></span>
<span>  <span class="va">the_hue</span>,</span>
<span>  <span class="va">the_value</span>,</span>
<span>  <span class="va">the_chroma</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  maxColorValue <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  return_triplets <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  returnLAB <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>the_hue</dt>
<dd><p>a vector of one or more more hues, upper-case (e.g. '10YR')</p></dd>


<dt>the_value</dt>
<dd><p>a vector of one or more values (e.g. '4')</p></dd>


<dt>the_chroma</dt>
<dd><p>a vector of one or more chromas (e.g. '6'), may be NA for neutral hues</p></dd>


<dt>alpha</dt>
<dd><p>numeric, transparency setting used when <code>return_triplets = FALSE</code> and <code>returnLAB = FALSE</code></p></dd>


<dt>maxColorValue</dt>
<dd><p>maximum sRGB color value, typically <code>1</code> (see <code><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a>)</code></p></dd>


<dt>return_triplets</dt>
<dd><p>logical, return sRGB coordinates (range 0-1) instead of standard hex notation of sRGB (e.g. '#8080B')</p></dd>


<dt>returnLAB</dt>
<dd><p>logical, return CIELAB coordinates (D65 illuminant)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector of R colors is returned that is the same length as the input data. When <code>return_triplets = TRUE</code> and/or <code>returnLAB = TRUE</code>, then a <code>data.frame</code> (of sample length as input) is returned.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is vectorized without recycling: i.e. the length of each argument must be the same. Both functions will pad output with NA if there are any NA present in the inputs.</p>
<p>Neutral hues are approximated by greyscale shades ranging from 20\<!-- % (darker) to 80\\% (lighter). No chroma is required for neutral hues. --></p>
<p>Gley soil colors that are missing a chroma will not be correctly interpreted. Consider using a chroma of 1.
Non-standard Munsell notation (e.g. '7.9YR 2.7/2.0') can be matched (nearest-neighbor, no interpolation) to the closest color within the <code>munsell</code> sRGB/CIELAB look-up table via <code><a href="getClosestMunsellChip.html">getClosestMunsellChip()</a></code>. A more accurate estimate of sRGB values from non-standard notation can be achieved with the <a href="https://CRAN.R-project.org/package=munsellinterpol" class="external-link">munsellinterpol</a> package.</p>
<p>See examples below.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Care should be taken when using the resulting sRGB values; they are close to their Munsell counterparts, but will vary based on your monitor and ambient lighting conditions. Also, the value used for <code>maxColorValue</code> will affect the brightness of the colors. Th default value (1) will usually give acceptable results, but can be adjusted to force the colors closer to what the user thinks they should look like.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p><a href="http://ncss-tech.github.io/AQP/" class="external-link">http://ncss-tech.github.io/AQP/</a>
<a href="http://www.brucelindbloom.com/index.html?ColorCalcHelp.html" class="external-link">http://www.brucelindbloom.com/index.html?ColorCalcHelp.html</a>
<a href="https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html" class="external-link">https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html</a>
http://www.cis.rit.edu/mcsl/online/munsell.php</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>D.E. Beaudette</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># neutral hues (N) can be defined with chroma of 0 or NA </span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="st">'N'</span>, value<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span>, chroma<span class="op">=</span><span class="fl">0</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">g</span><span class="op">$</span><span class="va">hue</span>, <span class="va">g</span><span class="op">$</span><span class="va">value</span>, <span class="va">g</span><span class="op">$</span><span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#080808FF" "#101111FF" "#1B1C1CFF" "#313233FF" "#464848FF" "#686A6AFF"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "#A3A4A2FF"</span>
<span class="r-in"><span><span class="fu"><a href="soilPalette.html">soilPalette</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2rgb-1.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># back-transform</span></span></span>
<span class="r-in"><span><span class="fu"><a href="rgb2munsell.html">rgb2munsell</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/col2rgb.html" class="external-link">col2rgb</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fl">255</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   hue value chroma      sigma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   N     2      0 0.07161962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   N     3      0 0.16006468</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   N     4      0 0.17996207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   N     5      0 0.51062566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   N     6      0 0.28213437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   N     7      0 0.25003053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   N     8      0 0.24994119</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># basic example</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="st">'10YR'</span>, value<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span>, chroma<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># similar to the 10YR color book page</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">value</span> <span class="op">~</span> <span class="va">chroma</span>, data<span class="op">=</span><span class="va">d</span>, col<span class="op">=</span><span class="va">d</span><span class="op">$</span><span class="va">color</span>, pch<span class="op">=</span><span class="fl">15</span>, cex<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2rgb-2.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple pages of hue:</span></span></span>
<span class="r-in"><span><span class="va">hues</span> <span class="op">&lt;-</span> <span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">'2.5YR'</span>,<span class="st">'5YR'</span>,<span class="st">'7.5YR'</span>,<span class="st">'10YR'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>hue<span class="op">=</span><span class="va">hues</span>, value<span class="op">=</span><span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2.5</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span>, chroma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># convert Munsell -&gt; sRGB</span></span></span>
<span class="r-in"><span><span class="va">d</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract CIELAB coordinates</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span>, returnLAB<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            L         A         B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   19.63435  8.581829  6.904671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   19.63885  7.218216  8.403958</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   19.64309  5.604564  9.796024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   19.64643  3.925689 10.809552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   25.61413  8.964981  7.883329</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   25.61874  7.512179  9.391735</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   25.62282  5.921429 10.696891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   25.62641  4.038568 11.737203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   30.24227  8.783403  8.562698</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  30.24668  7.318196  9.973034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  30.25023  5.874147 11.071239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  30.25386  3.867632 12.070734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  40.90023  8.235530  8.747398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  40.90522  7.006269 10.414699</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  40.90911  5.752651 11.670108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  40.91415  3.659798 13.219944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  51.37662  7.220215  8.329886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  51.38134  6.195770  9.884295</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  51.38519  5.025516 11.093351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  51.39026  3.226903 12.657859</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  61.55559  7.055791  8.489930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  61.56052  5.986150 10.084287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  61.56487  4.806467 11.464174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  61.57020  2.890643 13.064617</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  71.52228  6.481745  8.033863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  71.52792  5.630443  9.918369</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  71.53294  4.413734 11.519080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  71.53859  2.505424 13.215844</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29  81.31030  5.613064  7.304378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  81.31713  4.987175  9.651318</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31  81.32297  3.855037 11.558159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  81.32918  2.070366 13.480465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  19.64320 16.391230 14.123930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  19.65139 13.732554 17.743790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  19.65828 10.648231 20.853492</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  19.66376  7.728635 23.220158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  25.62467 16.841715 15.764548</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  25.63252 14.071901 19.008588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  25.63934 11.019894 21.877591</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  25.64508  7.816474 24.266000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  30.25418 16.138556 16.739853</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  30.26102 13.393855 19.324502</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  30.26716 10.607618 21.731190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  30.27276  7.273108 23.752644</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  40.91452 15.782924 17.510382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  40.92266 13.374274 20.724075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47  40.92954 10.805412 23.453600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48  40.93614  7.334691 25.847593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  51.39198 14.333047 16.864441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  51.40058 12.018702 20.083427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  51.40723  9.846558 22.590705</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  51.41491  6.589534 25.398280</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53  61.57189 13.690371 16.996966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54  61.58009 11.528729 19.945124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55  61.58706  9.311893 22.449645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56  61.59545  5.767040 25.325825</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57  71.54012 13.238373 16.932398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58  71.54902 11.071643 20.081274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59  71.55664  8.819834 22.780058</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60  71.56566  5.281695 25.841769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61  81.33182 13.190982 17.676192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62  81.34062 10.726767 20.638174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  81.34837  7.988800 23.176378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64  81.35684  4.585239 25.939244</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65  19.64874 23.420666 21.687107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  19.66004 19.647377 27.500456</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67  19.73185 15.623392 28.738487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68  19.79708 11.789189 28.633575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69  25.63195 24.085016 24.235428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70  25.64244 20.110227 30.306955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71  25.65112 15.655904 35.304110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72  25.71159 11.532749 35.488967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73  30.26315 23.129287 25.729721</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74  30.27183 19.090733 29.870090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75  30.27909 14.773612 33.318109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  30.28562 10.361073 36.593382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77  40.92522 22.256649 26.131415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  40.93482 18.627498 30.507177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79  40.94267 14.898862 34.145885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80  40.95021 10.310876 37.495125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81  51.40546 21.384963 26.254448</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82  51.41626 18.006017 31.010246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83  51.42469 14.593435 34.763714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84  51.43370  9.917916 38.688899</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85  61.58607 20.615644 26.080886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86  61.59752 17.174317 30.795043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87  61.60622 13.648026 34.297745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88  61.61595  9.051354 38.275584</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89  71.55583 20.140978 26.292548</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90  71.56736 16.607714 30.760717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91  71.57697 12.952131 34.483628</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92  71.58730  8.082088 38.408434</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93  81.34757 19.819579 26.715162</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94  81.35909 16.136678 30.953382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95  81.36893 12.375018 34.579266</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96  81.37960  7.391318 38.424483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97  19.65210 31.118561 29.410615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98  19.81961 26.279610 29.415106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  19.92242 19.930878 29.199660</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 19.97208 15.075890 29.012675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 25.63665 31.325985 34.442593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102 25.74255 26.176040 36.522191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 103 25.83829 20.112969 36.194864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 104 25.89372 15.025805 35.910240</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 105 30.26917 29.247934 35.554849</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 30.28636 23.775732 41.036601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 107 30.35855 18.464558 40.657519</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 108 30.41422 13.475181 40.307211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109 40.93352 28.554701 35.597727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 110 40.94366 23.432865 40.801167</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111 40.95230 18.262399 45.524719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 40.96436 12.702250 49.234842</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 113 51.41617 28.185376 36.205381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 114 51.42787 23.397650 42.094789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 115 51.43710 18.487946 46.754196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 51.44600 12.600851 51.144217</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 117 61.59727 27.053411 35.071997</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 118 61.61079 22.541829 41.537982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 119 61.62093 17.728209 46.269434</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 120 61.63119 11.810282 51.060399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121 71.56842 26.519167 35.398310</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 122 71.58155 21.631230 40.941049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 123 71.59281 16.781903 45.899666</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 124 71.60386 10.863836 50.707770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 125 79.86302 21.472639 34.493193</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 126 80.52058 18.542815 41.446228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 127 81.24207 15.968356 46.766651</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 128 81.39866 10.183410 51.339891</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot: note that we are setting panel order from red --&gt; yellow</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lattice.r-forge.r-project.org/" class="external-link">lattice</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">value</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">chroma</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">hue</span>, levels<span class="op">=</span><span class="va">hues</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       main<span class="op">=</span><span class="st">"Common Soil Colors"</span>, layout<span class="op">=</span><span class="fu"><a href="combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">1</span><span class="op">)</span>, scales<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>alternating<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       strip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/strip.default.html" class="external-link">strip.custom</a></span><span class="op">(</span>bg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.85</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       data<span class="op">=</span><span class="va">d</span>, as.table<span class="op">=</span><span class="cn">TRUE</span>, subscripts<span class="op">=</span><span class="cn">TRUE</span>, xlab<span class="op">=</span><span class="st">'Chroma'</span>, ylab<span class="op">=</span><span class="st">'Value'</span>,</span></span>
<span class="r-in"><span>       panel<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">subscripts</span>, <span class="va">...</span><span class="op">)</span></span></span>
<span class="r-in"><span>       <span class="op">{</span></span></span>
<span class="r-in"><span>         <span class="fu"><a href="https://rdrr.io/pkg/lattice/man/panel.xyplot.html" class="external-link">panel.xyplot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, pch<span class="op">=</span><span class="fl">15</span>, cex<span class="op">=</span><span class="fl">4</span>, col<span class="op">=</span><span class="va">d</span><span class="op">$</span><span class="va">color</span><span class="op">[</span><span class="va">subscripts</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>       <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2rgb-3.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># soils example</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sp1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert colors</span></span></span>
<span class="r-in"><span><span class="va">sp1</span><span class="op">$</span><span class="va">soil_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simple plot, may need to tweak gamma-correction...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="nrow.html">nrow</a></span><span class="op">(</span><span class="va">sp1</span><span class="op">)</span><span class="op">)</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, col<span class="op">=</span><span class="va">sp1</span><span class="op">$</span><span class="va">soil_color</span>, main<span class="op">=</span><span class="st">'Soil Colors'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="munsell2rgb-4.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert into a more useful color space</span></span></span>
<span class="r-in"><span><span class="co"># you will need the colorspace package for this to work</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://colorspace.R-Forge.R-project.org/" class="external-link">colorspace</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># keep RGB triplets from conversion</span></span></span>
<span class="r-in"><span>  <span class="va">sp1.rgb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="fu">munsell2rgb</span><span class="op">(</span><span class="va">hue</span>, <span class="va">value</span>, <span class="va">chroma</span>, return_triplets<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># convert into LAB color space</span></span></span>
<span class="r-in"><span>  <span class="va">sp1.lab</span> <span class="op">&lt;-</span> <span class="fu"><a href="coercion-methods.html">as</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">sp1.rgb</span>, <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/sRGB.html" class="external-link">sRGB</a></span><span class="op">(</span><span class="va">r</span>,<span class="va">g</span>,<span class="va">b</span><span class="op">)</span><span class="op">)</span>, <span class="st">'LAB'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span><span class="op">(</span><span class="va">sp1.lab</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: colorspace</span>
<span class="r-plt img"><img src="munsell2rgb-5.png" alt="" width="768" height="475"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert a non-standard color to closest "chip" in `munsell` look-up table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="getClosestMunsellChip.html">getClosestMunsellChip</a></span><span class="op">(</span><span class="st">'7.9YR 2.7/2.0'</span>, convertColors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "7.5YR 2.5/2"</span>
<span class="r-in"><span><span class="co"># convert directly to R color</span></span></span>
<span class="r-in"><span><span class="fu"><a href="getClosestMunsellChip.html">getClosestMunsellChip</a></span><span class="op">(</span><span class="st">'7.9YR 2.7/2.0'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#4B392DFF"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

