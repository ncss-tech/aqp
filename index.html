<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Algorithms for Quantitative Pedology • aqp</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Algorithms for Quantitative Pedology">
<meta name="description" content="The Algorithms for Quantitative Pedology (AQP) project was started in 2009 to organize a loosely-related set of concepts and source code on the topic of soil profile visualization, aggregation, and classification into this package (aqp). Over the past 8 years, the project has grown into a suite of related R packages that enhance and simplify the quantitative analysis of soil profile data. Central to the AQP project is a new vocabulary of specialized functions and data structures that can accommodate the inherent complexity of soil profile information; freeing the scientist to focus on ideas rather than boilerplate data processing tasks &lt;doi:10.1016/j.cageo.2012.10.020&gt;. These functions and data structures have been extensively tested and documented, applied to projects involving hundreds of thousands of soil profiles, and deeply integrated into widely used tools such as SoilWeb &lt;https://casoilresource.lawr.ucdavis.edu/soilweb-apps&gt;. Components of the AQP project (aqp, soilDB, sharpshootR, soilReports packages) serve an important role in routine data analysis within the USDA-NRCS Soil Science Division. The AQP suite of R packages offer a convenient platform for bridging the gap between pedometric theory and practice.">
<meta property="og:description" content="The Algorithms for Quantitative Pedology (AQP) project was started in 2009 to organize a loosely-related set of concepts and source code on the topic of soil profile visualization, aggregation, and classification into this package (aqp). Over the past 8 years, the project has grown into a suite of related R packages that enhance and simplify the quantitative analysis of soil profile data. Central to the AQP project is a new vocabulary of specialized functions and data structures that can accommodate the inherent complexity of soil profile information; freeing the scientist to focus on ideas rather than boilerplate data processing tasks &lt;doi:10.1016/j.cageo.2012.10.020&gt;. These functions and data structures have been extensively tested and documented, applied to projects involving hundreds of thousands of soil profiles, and deeply integrated into widely used tools such as SoilWeb &lt;https://casoilresource.lawr.ucdavis.edu/soilweb-apps&gt;. Components of the AQP project (aqp, soilDB, sharpshootR, soilReports packages) serve an important role in routine data analysis within the USDA-NRCS Soil Science Division. The AQP suite of R packages offer a convenient platform for bridging the gap between pedometric theory and practice.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">aqp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/aqp-overview.html">An Overview of the aqp Package</a></li>
    <li><a class="dropdown-item" href="articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a></li>
    <li><a class="dropdown-item" href="articles/label-placement.html">Overlapping Annotation</a></li>
    <li><a class="dropdown-item" href="articles/missing-data.html">Missing Data</a></li>
    <li><a class="dropdown-item" href="articles/Munsell-color-conversion.html">Munsell Color Conversion</a></li>
    <li><a class="dropdown-item" href="articles/NCSP.html">Numerical Classification of Soil Profiles</a></li>
    <li><a class="dropdown-item" href="articles/new-in-aqp-2.html">What is new in aqp 2.x?</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ncss-tech/aqp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="algorithms-for-quantitative-pedology-aqp-package-for-r">Algorithms for Quantitative Pedology (aqp) package for R<a class="anchor" aria-label="anchor" href="#algorithms-for-quantitative-pedology-aqp-package-for-r"></a>
</h1></div>
<!-- aqp hexsticker! -->
<p><a href="https://raw.githubusercontent.com/ncss-tech/aqp/master/misc/hexstickers/aqp_sticker_v2.png" class="external-link"> <img src="https://raw.githubusercontent.com/ncss-tech/aqp/master/misc/hexstickers/aqp_sticker_v2.png" alt="aqp hexsticker (Paxton, Montauk, Woodbridge, Ridgebury, Whitman, Catden soil series dendogram)" title="aqp hexsticker (Paxton, Montauk, Woodbridge, Ridgebury, Whitman, Catden soil series dendogram)" width="45%" height="45%" hspace="15" vspace="15" align="right"></a></p>
<p>The Algorithms for Quantitative Pedology (AQP) project was started in 2009 to organize a loosely-related set of concepts and source code on the topic of soil profile visualization, aggregation, and classification into this package (aqp). Over the past 8 years, the project has grown into a suite of related R packages that enhance and simplify the quantitative analysis of soil profile data. Central to the AQP project is a new vocabulary of specialized functions and data structures that can accommodate the inherent complexity of soil profile information; freeing the scientist to focus on ideas rather than boilerplate data processing tasks <a href="doi:10.1016/j.cageo.2012.10.020" class="uri">doi:10.1016/j.cageo.2012.10.020</a>. These functions and data structures have been extensively tested and documented, applied to projects involving hundreds of thousands of soil profiles, and deeply integrated into widely used tools such as SoilWeb <a href="https://casoilresource.lawr.ucdavis.edu/soilweb-apps" class="external-link uri">https://casoilresource.lawr.ucdavis.edu/soilweb-apps</a>. Components of the AQP project (aqp, soilDB, sharpshootR, soilReports packages) serve an important role in routine data analysis within the USDA-NRCS Soil Science Division. The AQP suite of R packages offer a convenient platform for bridging the gap between pedometric theory and practice.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Get the stable version from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'aqp'</span>, dep<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Get the development version from Github, after installing the CRAN version + dependencies:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ncss-tech/aqp"</span>, dependencies<span class="op">=</span><span class="cn">FALSE</span>, upgrade<span class="op">=</span><span class="cn">FALSE</span>, build<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Install suggested packages:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="st">"colorspace"</span>, <span class="st">"ape"</span>, <span class="st">"soilDB"</span>, <span class="st">"latticeExtra"</span>, <span class="st">"tactile"</span>, <span class="st">"compositions"</span>, </span>
<span><span class="st">"sharpshootR"</span>, <span class="st">"markovchain"</span>, <span class="st">"xtable"</span>, <span class="st">"testthat"</span>, <span class="st">"Gmedian"</span>, </span>
<span><span class="st">"farver"</span>, <span class="st">"Hmisc"</span>, <span class="st">"tibble"</span>, <span class="st">"RColorBrewer"</span>, <span class="st">"scales"</span>, <span class="st">"digest"</span>, </span>
<span> <span class="st">"mpspline2"</span>, <span class="st">"soiltexture"</span>, <span class="st">"knitr"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"mvtnorm"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="website">Website<a class="anchor" aria-label="anchor" href="#website"></a>
</h2>
<p><a href="http://ncss-tech.github.io/AQP/" class="external-link uri">http://ncss-tech.github.io/AQP/</a></p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ncss-tech.github.io/aqp/">aqp</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># example data from three official series descriptions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"osd"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># simulate 2 copies of each</span></span>
<span><span class="co"># using horizon boundary distinctness offsets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10101</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/perturb.html">perturb</a></span><span class="op">(</span><span class="va">osd</span>, n <span class="op">=</span> <span class="fl">2</span>, boundary.attr <span class="op">=</span> <span class="st">'hzd'</span>, min.thickness <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># tighter margins</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="reference/combine-SoilProfileCollection-method.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adjust default style</span></span>
<span><span class="co"># depict truncation at 175cm with ragged bottom</span></span>
<span><span class="fu"><a href="reference/SoilProfileCollection-plotting-methods.html">plotSPC</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>, </span>
<span>  name.style <span class="op">=</span> <span class="st">'center-center'</span>, </span>
<span>  cex.names <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">0.33</span>,</span>
<span>  cex.id <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  hz.distinctness.offset <span class="op">=</span> <span class="st">'hzd'</span>, </span>
<span>  max.depth <span class="op">=</span> <span class="fl">175</span>, </span>
<span>  depth.axis <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>  hz.depths <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" alt="testing 1 2" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"aqp"</span><span class="op">)</span></span>
<span><span class="co">#&gt; To cite aqp in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Beaudette, D., Roudier, P., Brown, A. (2023). aqp: Algorithms for</span></span>
<span><span class="co">#&gt;   Quantitative Pedology. R package version 2.0.</span></span>
<span><span class="co">#&gt;   &lt;https://CRAN.R-project.org/package=aqp&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Beaudette, D.E., Roudier, P., O'Geen, A.T. Algorithms for</span></span>
<span><span class="co">#&gt;   quantitative pedology: A toolkit for soil scientists, Computers &amp;</span></span>
<span><span class="co">#&gt;   Geosciences, Volume 52, March 2013, Pages 258-268, ISSN 0098-3004,</span></span>
<span><span class="co">#&gt;   http://dx.doi.org/10.1016/j.cageo.2012.10.020.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To see these entries in BibTeX format, use 'print(&lt;citation&gt;,</span></span>
<span><span class="co">#&gt; bibtex=TRUE)', 'toBibtex(.)', or set</span></span>
<span><span class="co">#&gt; 'options(citation.bibtex.max=999)'.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="related-papers-and-book-chapters">Related Papers and Book Chapters<a class="anchor" aria-label="anchor" href="#related-papers-and-book-chapters"></a>
</h2>
<ul>
<li>Beaudette D.E., P. Roudier, and J. Skovlin. 2016. Probabilistic representation of genetic soil horizons. In Book Digital soil morphometrics. Springer.</li>
<li>Maynard, J.J., S.W. Salley, D.E. Beaudette, and J.E. Herrick. 2020. Numerical soil classification supports soil identification by citizen scientists using limited, simple soil observations. Soil Science Society of America Journal 84:1675-1692.</li>
<li>Beaudette, D. E., J. Skovlin, A. G. Brown, P. Roudier, and S. M. Roecker. “Algorithms for Quantitative Pedology.” In Geopedology, edited by Joseph Alfred Zinck, Graciela Metternicht, Héctor Francisco del Valle, and Marcos Angelini, 201–22. Cham: Springer International Publishing, 2023. <a href="https://doi.org/10.1007/978-3-031-20667-2_11" class="external-link uri">https://doi.org/10.1007/978-3-031-20667-2_11</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="related-packages">Related Packages<a class="anchor" aria-label="anchor" href="#related-packages"></a>
</h2>
<ul>
<li><a href="https://github.com/ncss-tech/soilDB" class="external-link">soilDB</a></li>
<li><a href="https://github.com/ncss-tech/sharpshootR" class="external-link">sharpshootR</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<ul>
<li><a href="https://ncss-tech.github.io/aqp/articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a></li>
<li><a href="https://ncss-tech.github.io/aqp/articles/NCSP.html">Numerical Classification of Soil Profiles</a></li>
<li><a href="https://ncss-tech.github.io/aqp/articles/label-placement.html">Overlapping Annotation</a></li>
<li><a href="https://ncss-tech.github.io/aqp/articles/new-in-aqp-2.html">What is new in aqp 2.x?</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="tutorials">Tutorials<a class="anchor" aria-label="anchor" href="#tutorials"></a>
</h2>
<ul>
<li><a href="https://ncss-tech.github.io/AQP/aqp/sketches.html" class="external-link">Soil Profile Sketches</a></li>
<li><a href="https://ncss-tech.github.io/AQP/aqp/gen-hz-assignment.html" class="external-link">Assigning Generalized Horizon Labels</a></li>
<li><a href="https://ncss-tech.github.io/AQP/aqp/hz-boundaries.html" class="external-link">Visualization of Horizon Boundaries</a></li>
<li><a href="https://ncss-tech.github.io/AQP/aqp/mix-colors.html" class="external-link">Mixing Munsell Colors in {aqp}</a></li>
<li><a href="https://ncss-tech.github.io/AQP/aqp/water-retention-curves.html" class="external-link">Theoretical Water Retention Curves</a></li>
<li><a href="https://ncss-tech.github.io/AQP/aqp/soiltexture-vizualization-ideas.html" class="external-link">Soil Texture Visualization Ideas</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="related-presentations--posters">Related Presentations / Posters<a class="anchor" aria-label="anchor" href="#related-presentations--posters"></a>
</h2>
<ul>
<li><a href="https://ncss-tech.github.io/AQP/presentations/2023-NCSS-NCSP-poster.pdf" class="external-link">Numerical Classification of Soil Profiles (2023 NCSS Meetings)</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="aqp-in-the-wild">aqp in the Wild<a class="anchor" aria-label="anchor" href="#aqp-in-the-wild"></a>
</h2>
<ul>
<li><a href="https://www.pnas.org/content/115/26/6751" class="external-link uri">https://www.pnas.org/content/115/26/6751</a></li>
<li><a href="https://www.scopus.com/results/citedbyresults.uri?sort=plf-f&amp;cite=2-s2.0-84871520076&amp;src=s&amp;imp=t&amp;sid=77a47f45322dcfd492772ab2198cbd60&amp;sot=cite&amp;sdt=a&amp;sl=0&amp;origin=inward&amp;editSaveSearch=&amp;txGid=2178c12c5b47dbcdd8b2f12cd9a81478" class="external-link">as found by Scopus</a></li>
<li><a href="https://scholar.google.com/scholar?cites=14155970656017510549&amp;as_sdt=5,29&amp;sciodt=0,29&amp;hl=en" class="external-link">as found by Google Scholar</a></li>
<li><a href="http://www.scielo.br/scielo.php?script=sci_arttext&amp;pid=S2179-80872019000100121" class="external-link uri">http://www.scielo.br/scielo.php?script=sci_arttext&amp;pid=S2179-80872019000100121</a></li>
</ul>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=aqp" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ncss-tech/aqp/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ncss-tech/aqp/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing aqp</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Dylan Beaudette <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0008-2780-4785" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Pierre Roudier <br><small class="roles"> Author, contributor </small>   </li>
<li>Andrew Brown <br><small class="roles"> Author, contributor </small>   </li>
<li>Stephen Roecker <br><small class="roles"> Author, contributor </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=aqp" class="external-link"><img src="https://www.r-pkg.org/badges/version/aqp" alt="CRAN version"></a></li>
<li><a href="https://cran.r-project.org/web/checks/check_results_aqp.html" class="external-link"><img src="https://badges.cranchecks.info/worst/aqp.svg" alt="CRAN status"></a></li>
<li><a href="https://ncss-tech.r-universe.dev/" class="external-link"><img src="https://ncss-tech.r-universe.dev/badges/aqp" alt="Development Version"></a></li>
<li><a href="https://cran.r-project.org/package=aqp" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/aqp" alt="Monthly CRAN Downloads"></a></li>
<li><a href="https://ncss-tech.github.io/aqp/"><img src="https://img.shields.io/badge/docs-HTML-informational" alt="aqp Manual"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown, Stephen Roecker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
