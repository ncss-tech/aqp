<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Soil Texture Low-RV-High as Defined by Quantiles — textureTriangleSummary • aqp</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Soil Texture Low-RV-High as Defined by Quantiles — textureTriangleSummary" />

<meta property="og:description" content="This function accepts soil texture components (sand, silt, and clay percentages) and plots a soil texture triangle with a "representative value" (point) and low-high region (polygon) defined by quantiles (estimated with Hmisc::hdquantile). Marginal quantiles of sand, silt, and clay are used to define the boundary of a low-high region that encloses a severall likely soil texture classes based on the values in ssc. The defualt settings place the RV symbol at the texture defined by marginal medians of sand, silt, and clay. The default low-high region is defined by the 5th and 95th marginal percentiles of sand, silt, and clay." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ncss-tech/aqp">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Soil Texture Low-RV-High as Defined by Quantiles</h1>
    
    <div class="hidden name"><code>texture.triangle.low.rv.high.Rd</code></div>
    </div>

    
    <p>This function accepts soil texture components (sand, silt, and clay percentages) and plots a soil texture triangle with a "representative value" (point) and low-high region (polygon) defined by quantiles (estimated with <code><a href='http://www.rdocumentation.org/packages/Hmisc/topics/hdquantile'>Hmisc::hdquantile</a></code>). Marginal quantiles of sand, silt, and clay are used to define the boundary of a low-high region that encloses a severall likely soil texture classes based on the values in <code>ssc</code>. The defualt settings place the RV symbol at the texture defined by marginal medians of sand, silt, and clay. The default low-high region is defined by the 5th and 95th marginal percentiles of sand, silt, and clay.</p>
    

    <pre class="usage"><span class='fu'>textureTriangleSummary</span>(<span class='no'>ssc</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.05</span>, <span class='fl'>0.5</span>, <span class='fl'>0.95</span>), <span class='kw'>delta</span><span class='kw'>=</span><span class='fl'>1</span>,
<span class='kw'>texture.names</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>pop.rv.col</span><span class='kw'>=</span><span class='st'>'red'</span>, <span class='kw'>range.col</span><span class='kw'>=</span><span class='st'>'RoyalBlue'</span>,
<span class='kw'>range.alpha</span><span class='kw'>=</span><span class='fl'>75</span>, <span class='kw'>sim</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>sim.n</span><span class='kw'>=</span><span class='fl'>1000</span>, <span class='kw'>sim.rv.col</span><span class='kw'>=</span><span class='st'>'yellow'</span>,
<span class='kw'>sim.col</span><span class='kw'>=</span><span class='fu'>grey</span>(<span class='fl'>0.95</span>), <span class='kw'>sim.alpha</span><span class='kw'>=</span><span class='fl'>150</span>, <span class='kw'>legend.cex</span><span class='kw'>=</span><span class='fl'>0.75</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ssc</th>
      <td><p>a matrix-like object with columns: 'sand', 'silt', 'clay', values are percentages that should add to 100.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>percentiles defining 'low', 'representative value', and 'high'</p></td>
    </tr>
    <tr>
      <th>delta</th>
      <td><p>step-size used to form low-high region</p></td>
    </tr>
    <tr>
      <th>texture.names</th>
      <td><p>logical, should soil texture names be added to the figure?</p></td>
    </tr>
    <tr>
      <th>pop.rv.col</th>
      <td><p>the symbol color used to denote the population representative value on the texture triangle</p></td>
    </tr>
    <tr>
      <th>range.col</th>
      <td><p>color of the polygon enclosing the low-high region</p></td>
    </tr>
    <tr>
      <th>range.alpha</th>
      <td><p>transparency of the low-high range polygon (0-255)</p></td>
    </tr>
    <tr>
      <th>sim</th>
      <td><p>optional simulation of low-rv-high values based on a composition drawn from normal distributions, this requires the `compositions` package</p></td>
    </tr>
    <tr>
      <th>sim.n</th>
      <td><p>number of simulated sand, silt, and clay values</p></td>
    </tr>
    <tr>
      <th>sim.rv.col</th>
      <td><p>the symbol color used to denote the simulated representative value on the texture triangle</p></td>
    </tr>
    <tr>
      <th>sim.col</th>
      <td><p>color of the simulated low-high range polygon</p></td>
    </tr>
    <tr>
      <th>sim.alpha</th>
      <td><p>transparency of the simulated low-high range polygon (0-255)</p></td>
    </tr>
    <tr>
      <th>legend.cex</th>
      <td><p>scaling factor for legend</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>further arguments passed to <code>triax.points</code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Simulation of samd, silt, and clay values requires the `compositions` package.
When using this function within .Rmd, be sure to explicitly load the `compositions` package via <code>library</code> and use the chunk option <code>fig.keep='last'</code>. For some reason, the <code>soil.texture</code> function generates two figures when used within a .Rmd, hence the strange hack.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Simulated sand, silt, and clay values are based on sampling from a normal distribution as performed by <code>rnorm.acomp</code> in the `comppositions` package. The mean vector of the sand, silt, and clay values, along with covariance matrix derived from <code>ssc</code> are used to parametrize sampling.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A high-level plot as generated by <code>soil.texture</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>triax.points, soil.texture</code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># sample data</span>
<span class='fu'>data</span>(<span class='no'>loafercreek</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'soilDB'</span>)

<span class='co'># extract sand, silt, clay proportions</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>na.omit</span>(<span class='fu'>data.frame</span>(<span class='kw'>sand</span><span class='kw'>=</span><span class='no'>loafercreek</span>$<span class='no'>sand</span>, <span class='kw'>silt</span><span class='kw'>=</span><span class='no'>loafercreek</span>$<span class='no'>silt</span>, <span class='kw'>clay</span><span class='kw'>=</span><span class='no'>loafercreek</span>$<span class='no'>clay</span>))

<span class='co'># test out the function</span>
<span class='fu'>textureTriangleSummary</span>(<span class='no'>x</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.05</span>, <span class='fl'>0.5</span>, <span class='fl'>0.95</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='img'><img src='texture.triangle.low.rv.high-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>textureTriangleSummary</span>(<span class='no'>x</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span>), <span class='kw'>range.col</span><span class='kw'>=</span><span class='st'>'darkgreen'</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='img'><img src='texture.triangle.low.rv.high-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># simulate compositional data from source mean / var-covar matrix</span>
<span class='kw'>if</span>(<span class='fu'>require</span>(<span class='no'>compositions</span>)) {
  <span class='co'># add simulated low-rv-high</span>
  <span class='fu'>textureTriangleSummary</span>(<span class='no'>x</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0.05</span>, <span class='fl'>0.5</span>, <span class='fl'>0.95</span>), <span class='kw'>sim</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
}</div><div class='output co'>#&gt; <span class='message'>Loading required package: compositions</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: tensorA</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘tensorA’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    norm</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: robustbase</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: energy</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: bayesm</span></div><div class='output co'>#&gt; <span class='message'>Welcome to compositions, a package for compositional data analysis.</span>
#&gt; <span class='message'>Find an intro with "? compositions"</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘compositions’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:ape’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    balance</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:aqp’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    cov</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    cor, cov, dist, var</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    %*%, scale, scale.default</span></div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Calling 'structure(NULL, *)' is deprecated, as NULL cannot have attributes.</span>
#&gt; <span class='warning'>  Consider 'structure(list(), *)' instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: At least one set of proportions does not equal one.</span></div><div class='img'><img src='texture.triangle.low.rv.high-3.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#note">Note</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    D.E. Beaudette
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Dylan Beaudette, Pierre Roudier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

