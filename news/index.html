<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • aqp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/aqp-overview.html">An Overview of the aqp Package</a>
    </li>
    <li>
      <a href="../articles/Introduction-to-SoilProfileCollection-Objects.html">Introduction to SoilProfileCollection Objects</a>
    </li>
    <li>
      <a href="../articles/label-placement.html">Overlapping Annotation</a>
    </li>
    <li>
      <a href="../articles/missing-data.html">Missing Data</a>
    </li>
    <li>
      <a href="../articles/Munsell-color-conversion.html">Munsell Color Conversion</a>
    </li>
    <li>
      <a href="../articles/NCSP.html">Numerical Classification of Soil Profiles</a>
    </li>
    <li>
      <a href="../articles/new-in-aqp-2.html">What is new in aqp 2.x?</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ncss-tech/aqp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/ncss-tech/aqp/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.4" id="aqp-204-2024-07-30">aqp 2.0.4 (2024-07-30)<a class="anchor" aria-label="anchor" href="#aqp-204-2024-07-30"></a></h2>
<ul><li>CRAN release</li>
<li>ragged bottom lines in <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> now adjusted as function of number of profiles and device width</li>
<li>additional metadata from <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> saved to <code>last_spc_plot</code> in <code>aqp.env</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.3" id="aqp-203-2024-04-18">aqp 2.0.3 (2024-04-18)<small>2024-04-18</small><a class="anchor" aria-label="anchor" href="#aqp-203-2024-04-18"></a></h2>
<ul><li>CRAN release</li>
<li>
<code><a href="../reference/simulateColor.html">simulateColor()</a></code> gains new method <code>mvnorm</code> for simulating plausible colors
<ul><li>package mvtnorm added to SUGGESTS</li>
</ul></li>
<li>performance improvements in <code><a href="../reference/profileInformationIndex.html">profileInformationIndex()</a></code>, <code><a href="../reference/dice-SoilProfileCollection-method.html">dice()</a></code>, <code><a href="../reference/slab.html">slab()</a></code>, <code><a href="../reference/spc2mpspline-SoilProfileCollection-method.html">spc2mpspline()</a></code>, <code><a href="../reference/fillHzGaps.html">fillHzGaps()</a></code>, and <code><a href="../reference/flagOverlappingHz.html">flagOverlappingHz()</a></code>
</li>
<li>aesthetic improvements in <code><a href="../reference/huePositionCircle.html">huePositionCircle()</a></code>
</li>
<li>new function <code><a href="../reference/thicknessOf.html">thicknessOf()</a></code> used for calculating thickness of horizons within each profile of a <code>SoilProfileCollection</code> based on horizon-level logical expressions encoded in a function. Default behavior uses pattern matching on the horizon designation name.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.2" id="aqp-202-2023-11-18">aqp 2.0.2 (2023-11-18)<small>2023-11-28</small><a class="anchor" aria-label="anchor" href="#aqp-202-2023-11-18"></a></h2>
<ul><li>CRAN release</li>
<li>bug fix / enhancements in <code><a href="../reference/evalMissingData.html">evalMissingData()</a></code>
</li>
<li>new function <code><a href="../reference/col2Munsell.html">col2Munsell()</a></code> generalizes and replaces <code><a href="../reference/rgb2munsell.html">rgb2munsell()</a></code> (thanks Shawn Salley for the suggestion)
<ul><li>
<code><a href="../reference/rgb2munsell.html">rgb2munsell()</a></code> will be deprecated in aqp 2.1</li>
</ul></li>
<li>new function <code><a href="../reference/warpHorizons.html">warpHorizons()</a></code> for warping horizon thickness (inflate/deflate) (thanks Shawn Salley for idea / inspiration)</li>
<li>fixed minor bug in <code><a href="../reference/plotColorMixture.html">plotColorMixture()</a></code> when final mixed color does not exist in spectral library</li>
<li>fixed minor namespace collision in <code><a href="../reference/groupedProfilePlot.html">groupedProfilePlot()</a></code>
</li>
<li>major updates to <code><a href="../reference/profileInformationIndex.html">profileInformationIndex()</a></code> (vignette pending)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.1" id="aqp-201-2023-09-03">aqp 2.0.1 (2023-09-03)<small>2023-09-06</small><a class="anchor" aria-label="anchor" href="#aqp-201-2023-09-03"></a></h2>
<ul><li>CRAN release (CRAN check bugfix)</li>
<li>new function <code><a href="../reference/flagOverlappingHz.html">flagOverlappingHz()</a></code> for identifying horizons with perfect overlap</li>
<li>
<code><a href="../reference/fillHzGaps.html">fillHzGaps()</a></code>, <code><a href="../reference/dice-SoilProfileCollection-method.html">dice()</a></code>, <code><a href="../reference/slab.html">slab()</a></code>, and several other functions now safely handle horizons with perfect overlap (<a href="https://github.com/ncss-tech/aqp/issues/296" class="external-link">#296</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0" id="aqp-20-2023-08-28">aqp 2.0 (2023-08-28)<small>2023-08-28</small><a class="anchor" aria-label="anchor" href="#aqp-20-2023-08-28"></a></h2>
<p>This is a major update to aqp that may create some issues for code depending on specific inputs/outputs in aqp &lt; 1.42, particularly those relying on <code><a href="../reference/slice.html">slice()</a></code>, <code><a href="../reference/slab.html">slab()</a></code>, and <code><a href="../reference/profile_compare.html">profile_compare()</a></code>. <code><a href="../reference/slice.html">slice()</a></code> and <code><a href="../reference/profile_compare.html">profile_compare()</a></code> are now deprecated, but will continue to work for the rest of calendar year 2023. There are no plans to maintain these functions beyond aqp 2.0. The new version of <code><a href="../reference/slab.html">slab()</a></code> is a drop-in replacement for the previous version of the function.</p>
<p>Notable changes include:</p>
<ul><li>deprecation of <code><a href="../reference/slice.html">slice()</a></code> in favor of the new, faster, more robust implementation in <code><a href="../reference/dice-SoilProfileCollection-method.html">dice()</a></code>
</li>
<li>complete overhaul of <code><a href="../reference/slab.html">slab()</a></code>, with new arguments, faster back-end, and weighted aggregation implemented (finally)</li>
<li>deprecation of <code><a href="../reference/profile_compare.html">profile_compare()</a></code> in favor of the <code><a href="../reference/NCSP.html">NCSP()</a></code>–a complete overhaul based on Maynard et al., 2020
<ul><li>site level attributes now handled by <code><a href="../reference/compareSites.html">compareSites()</a></code>
</li>
<li>variable weights now possible via argument</li>
</ul></li>
<li>
<code><a href="../reference/perturb.html">perturb()</a></code> and <code><a href="../reference/estimatePSCS.html">estimatePSCS()</a></code> are now vectorized, and optimized for larger collections</li>
<li>
<code><a href="../reference/mixMunsell.html">mixMunsell()</a></code> now uses <code>mixingMethod = 'exact'</code> by default for the simulation of subtractive mixtures</li>
<li>
<code>gower</code> package moved to SUGGESTS</li>
<li>
<code><a href="../reference/plotColorMixture.html">plotColorMixture()</a></code> now using grid graphics functions to determine color swatch geometry and setting overlap detection threshold</li>
<li>removal of <code>PMS2Munsell()</code> and support data</li>
<li>deprecation of <code>coordinates()&lt;-</code> and <code>proj4string()&lt;-</code> in favor of <code>initSpatial()&lt;-</code>
</li>
<li>removal of <code>rruff.sample</code> example XRD patterns</li>
<li>
<code><a href="../reference/get.ml.hz.html">get.ml.hz()</a></code> no longer uses the <code>name</code> argument</li>
</ul><p>Major changes to <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code>:</p>
<ul><li>The maximum depth range of the figure is now based on <code>max.depth</code> or <code>max(x)</code>. This means that sketches generated with aqp 2.x will generally have less white space at the bottom of the figure. Make more room for additional annotation or visual effect by setting the desired depth range with the <code>max.depth</code> argument.</li>
<li>now uses <code><a href="../reference/electroStatics_1D.html">electroStatics_1D()</a></code> for fixing horizon depth label overlap, solutions are deterministic and almost always better</li>
<li>better depth axis interval heuristics (if not specified), varying based on figure depth range</li>
<li>depth axis adjustments via new argument <code>depth.axis</code>, logical or list</li>
<li>deprecation of arguments:
<ul><li>
<code>plot.depth.axis</code>: set via <code>depth.axis = TRUE</code>, <code>depth.axis = FALSE</code>, or customize <code>depth.axis = list(...)</code>
</li>
<li>
<code>cex.depth.axis</code>: set via <code>depth.axis = list(cex = 1)</code>
</li>
<li>
<code>axis.line.offset</code>: set via <code>depth.axis = list(line = -2)</code>
</li>
</ul></li>
</ul><p>New features:</p>
<ul><li>example data, <code>wilson2022</code>
</li>
<li>fast prototyping of SPCs via <code><a href="../reference/quickSPC.html">quickSPC()</a></code> and list / character templates</li>
<li>re-use arguments to <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> via <code>options(.aqp.plotSPC.args = list(...))</code>
</li>
<li>coarse fragment classification via <code><a href="../reference/fragmentSieve.html">fragmentSieve()</a></code> and <code><a href="../reference/fragmentClasses.html">fragmentClasses()</a></code>
</li>
<li>S4 <code>as.data.frame(&lt;SPC&gt;)</code> as shorthand for <code>as(&lt;SPC&gt;, 'data.frame')</code>
</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> now marks truncated profiles with a ragged bottom</li>
<li>
<code><a href="../reference/fixOverlap.html">fixOverlap()</a></code> now has two label-placement solvers, based on 1) electrostatics and 2) simulated annealing</li>
<li>new <a href="https://ncss-tech.github.io/AQP/aqp/sketches.html" class="external-link">depth axis styles</a> in <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code>
</li>
</ul><p>Incremental changes, should have no effect on previous code:</p>
<ul><li>bug fix in <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> when <code>fixLabelCollisions = TRUE</code>, adjustments suggested to <code><a href="../reference/fixOverlap.html">fixOverlap()</a></code> are now scaled correctly</li>
<li>
<code><a href="../reference/explainPlotSPC.html">explainPlotSPC()</a></code> reports label adjustment index when label collision repair is enabled</li>
<li>aesthetic cleanup in <code><a href="../reference/explainPlotSPC.html">explainPlotSPC()</a></code>
</li>
<li>
<code><a href="../reference/soilColorSignature.html">soilColorSignature()</a></code> gains arguments and perceptual color distances (dE00) via farver package</li>
<li>
<code>as(&lt;SPC&gt;, "data.frame")</code>: Replace <code><a href="https://rdrr.io/pkg/plyr/man/join.html" class="external-link">plyr::join()</a></code> with <code><a href="https://edzer.github.io/sp/reference/merge.html" class="external-link">merge()</a></code>
</li>
<li>
<code><a href="../reference/correctAWC.html">correctAWC()</a></code>: NA handling - return NA when frags are NA</li>
<li>
<code><a href="../reference/mutate_profile.html">mutate_profile()</a></code>: Faster (data.table-based) evaluation of profile-level expressions (<a href="https://github.com/ncss-tech/aqp/issues/255" class="external-link">#255</a>)</li>
<li>
<code>profileApply</code>: Add support for custom <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>-like function (<code>APPLY.FUN</code>) for processing chunks (<a href="https://github.com/ncss-tech/aqp/issues/256" class="external-link">#256</a>)</li>
<li>Add <code>.interpretHorizonColor()</code> outputs to <code>last_spc_plot</code> in <code>aqp.env</code> for use in custom <code><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend()</a></code> (<a href="https://github.com/ncss-tech/aqp/issues/254" class="external-link">#254</a>)</li>
<li>Add <code>simplify</code> argument to <code><a href="../reference/SoilTextureLevels.html">SoilTextureLevels()</a></code> and <code><a href="../reference/texture.html">ssc_to_texcl()</a></code> to optionally convert to an ordered factor with maximum of 12 levels (rather than 21). This smaller list of classes excludes sand grain size variants such as fine sand, loamy coarse sand, and very fine sandy loam.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.42" id="aqp-142-2022-04-08">aqp 1.42 (2022-04-08)<small>2022-04-11</small><a class="anchor" aria-label="anchor" href="#aqp-142-2022-04-08"></a></h2>
<ul><li>CRAN release</li>
<li>
<code><a href="../reference/getArgillicBounds.html">getArgillicBounds()</a></code>, <code><a href="../reference/getCambicBounds.html">getCambicBounds()</a></code>, <code><a href="../reference/mollic.thickness.requirement.html">mollic.thickness.requirement()</a></code>, <code><a href="../reference/getSurfaceHorizonDepth.html">getSurfaceHorizonDepth()</a></code> and related functions have been optimized and now work on SoilProfileCollection objects with length &gt; 1</li>
<li>Added <code><a href="../reference/reduceSPC.html">reduceSPC()</a></code> function for selecting a subset of minimal plus additional specified columns from a SoilProfileCollection</li>
<li>Added new “k-keyword” <code>.NHZ</code> for use with <code>SoilProfileCollection</code> <code>[</code> method
<ul><li>
<code>object[,,.NHZ]</code> returns a vector with the number of horizons in each profile</li>
</ul></li>
<li>proper identification and conversion of Munsell value == 2.5</li>
<li>interpolated reference spectra for Munsell value == 2.5</li>
<li>neutral color chips in the Munsell look-up table are now based on direct measurement vs. estimation</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.41" id="aqp-141-2022-02-11">aqp 1.41 (2022-02-11)<small>2022-02-11</small><a class="anchor" aria-label="anchor" href="#aqp-141-2022-02-11"></a></h2>
<ul><li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gains new arguments for controlling horizon depth labels</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gains horizon depth annotation collision fixes (<a href="https://github.com/ncss-tech/aqp/issues/240" class="external-link uri">https://github.com/ncss-tech/aqp/issues/240</a>)</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> minor bugfix for cases when <code>n != length(x)</code>
</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> important change! <code>y.offset</code> is now automatically re-ordered by <code>plot.order</code>
</li>
<li>bugfix for R 4.2, related to named arguments passed to <code>base::aggregate</code> (thanks AGB)</li>
<li>
<code><a href="../reference/depthOf.html">depthOf()</a></code> and related functions: better handling of <code>NA</code> results from <code>FUN</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.40" id="aqp-140-2022-01-04">aqp 1.40 (2022-01-04)<small>2022-01-04</small><a class="anchor" aria-label="anchor" href="#aqp-140-2022-01-04"></a></h2>
<ul><li>CRAN release</li>
<li>fixed small bug in <code><a href="../reference/panel.depth_function.html">panel.depth_function()</a></code> that affected plotting of grouped data, created by <code><a href="../reference/slab.html">slab()</a></code>
</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> now uses variable (vertical) text alignment for horizon depth labels</li>
<li>new function <code><a href="../reference/profileInformationIndex.html">profileInformationIndex()</a></code>
</li>
<li>
<code><a href="../reference/estimateSoilDepth.html">estimateSoilDepth()</a></code> now requires a valid horizon designation (no longer attempts a guess)</li>
<li>{aqp} no longer masks {dplyr} verbs: <code>group_by()</code>, <code><a href="../reference/summarizeSPC.html">summarize()</a></code>, <code><a href="../reference/transform.html">mutate()</a></code>
</li>
<li>removed (deprecated) <code>f.noise()</code> and <code>resample.twotheta()</code>: use {powdR} package instead</li>
<li>new functions: <code><a href="../reference/texture.html">texture_to_texmod()</a></code> and <code><a href="../reference/texture.html">fragvol_to_texmod()</a></code> c/o <a href="https://github.com/smroecker" class="external-link">@smroecker</a></li>
<li>faster, more robust version of <code><a href="../reference/slice.html">slice()</a></code> implemented as <code><a href="../reference/dice-SoilProfileCollection-method.html">dice()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.32" id="aqp-132-2021-09-28">aqp 1.32 (2021-09-28)<small>2021-09-29</small><a class="anchor" aria-label="anchor" href="#aqp-132-2021-09-28"></a></h2>
<ul><li>
<code><a href="../reference/colorChart.html">colorChart()</a></code> can now show neutral hues in a skinny panel</li>
<li>updates to <code><a href="../reference/colorContrast.html">colorContrast()</a></code>, <code><a href="../reference/parseMunsell.html">parseMunsell()</a></code>, and <code><a href="../reference/huePosition.html">huePosition()</a></code> to work properly with neutral hues</li>
<li>
<code><a href="../reference/huePosition.html">huePosition()</a></code> gains new arguments and functionality: <code>origin</code> and <code>direction</code>
</li>
<li>new function <code><a href="../reference/huePositionCircle.html">huePositionCircle()</a></code> for helping visualize differences in Munsell hue on the unit circle</li>
<li>
<code>plotSPC</code> defaults change:
<ul><li>
<code>width = 0.25</code>: slightly wider profile sketches</li>
<li>
<code>name = hzdesgnname(x)</code>: use metadata if present, no longer guessing. This may cause your figures to “lose” previously guessed horizon names, specify with <code>name = 'column name'</code> or set metadata with <code>hzdesgnname(x) &lt;- 'hzname'</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.31" id="aqp-131-2021-08-19">aqp 1.31 (2021-08-19)<small>2021-08-19</small><a class="anchor" aria-label="anchor" href="#aqp-131-2021-08-19"></a></h2>
<ul><li>CRAN release</li>
<li>bug fix in <code><a href="../reference/checkHzDepthLogic.html">checkHzDepthLogic()</a></code> when <code>byhz = TRUE</code>
</li>
<li>new function <code><a href="../reference/simulateColor.html">simulateColor()</a></code> for simulation of reasonable colors</li>
<li>new function <code><a href="../reference/colorChart.html">colorChart()</a></code> for <a href="https://ncss-tech.github.io/AQP/aqp/investigating-soil-color.html#Color_Book_Style_Presentation" class="external-link">graphical depiction of Munsell chip frequency by group</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.30" id="aqp-130-2021-07-14">aqp 1.30 (2021-07-14)<small>2021-07-27</small><a class="anchor" aria-label="anchor" href="#aqp-130-2021-07-14"></a></h2>
<ul><li>
<code>unique</code> method for <code>SoilProfileCollection</code> objects now returns a <code>SoilProfileCollection</code> by default
<ul><li>this may break existing code! use the new argument <code>SPC = FALSE</code> for previous behavior (<a href="https://github.com/ncss-tech/aqp/issues/159" class="external-link uri">https://github.com/ncss-tech/aqp/issues/159</a>)</li>
</ul></li>
<li>
<code><a href="../reference/aggregateColor.html">aggregateColor()</a></code> now uses <code>mixMunsell</code> for the estimation of soil color mixtures</li>
<li>
<code><a href="../reference/plotColorMixture.html">plotColorMixture()</a></code> will respect “names” attribute of colors-to-mix, without erroneous alpha-sorting</li>
<li>
<code><a href="../reference/parseMunsell.html">parseMunsell()</a></code> now more robust and faster, c/o P. Roudier</li>
<li>
<code>mixMunsell</code>:
<ul><li>new method <code>exact</code> for direct conversion of mixture spectra to sRGB or closest Munsell chip (via <code><a href="../reference/spec2Munsell.html">spec2Munsell()</a></code>)</li>
</ul></li>
<li>new convenience function <code>PMS2Munsell()</code> for converting PMS codes -&gt; closest Munsell chip (<a href="https://github.com/ncss-tech/aqp/issues/124" class="external-link uri">https://github.com/ncss-tech/aqp/issues/124</a>)</li>
<li>
<code><a href="../reference/glom.html">glom()</a></code> <code>z1</code> and <code>z2</code> arguments vectorized to allow for profile-specific intervals
<ul><li>
<code>z1</code> and <code>z2</code> support non-standard evaluation based on column names in <code>siteNames(p)</code>, and also can take character vector (length 1) with column names in <code>siteNames(p)</code>
</li>
</ul></li>
<li>
<code><a href="../reference/depthOf.html">depthOf()</a></code>, <code><a href="../reference/depthOf.html">minDepthOf()</a></code>, <code><a href="../reference/depthOf.html">maxDepthOf()</a></code>, <code><a href="../reference/getSurfaceHorizonDepth.html">getSurfaceHorizonDepth()</a></code>, <code><a href="../reference/getSurfaceHorizonDepth.html">getMineralSoilSurfaceDepth()</a></code>, <code><a href="../reference/getSurfaceHorizonDepth.html">getPlowLayerDepth()</a></code> can now be applied to multiple profiles.
<ul><li>If the input <code>SoilProfileCollection</code> has more than one profile then result is a <code>data.frame</code> containing profile ID, top or bottom depths, horizon designation and pattern</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.29" id="aqp-129-2021-04-05">aqp 1.29 (2021-04-05)<small>2021-04-07</small><a class="anchor" aria-label="anchor" href="#aqp-129-2021-04-05"></a></h2>
<ul><li>CRAN release</li>
<li>Several <code>SoilProfileCollection</code> methods that conflict with {dplyr} 1.0+ have been deprecated:
<ul><li>
<code>filter</code>, <code>mutate</code>, <code>group_by</code>, <code>summarize</code>
</li>
<li>New overloaded {base} names:
<ul><li>{base}-like syntax: “filter” -&gt; <code>subset</code>, “mutate” -&gt; <code>transform</code>, “combine” -&gt; <code>c</code>
</li>
</ul></li>
<li>New unique {aqp}/SoilProfileCollection aliases:
<ul><li>
<code>*SPC</code> syntax: <code>filterSPC</code>, <code>mutateSPC</code>, <code>groupSPC</code>, <code>summarizeSPC</code>
</li>
</ul></li>
<li>Be aware <code>dplyr::combine</code> (deprecated in {dplyr} 0.7) still conflicts</li>
</ul></li>
<li>
<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">aqp::union()</a></code>, previously deprecated, has been removed from namespace
<ul><li>Use <code><a href="../reference/combine-SoilProfileCollection-method.html">c()</a></code> or <code><a href="../reference/combine-SoilProfileCollection-method.html">combine()</a></code> for <code>SoilProfileCollection</code> input</li>
<li>Use<code><a href="../reference/combine-SoilProfileCollection-method.html">combine()</a></code> or <code><a href="../reference/pbindlist.html">pbindlist()</a></code> for <code>list</code> input</li>
</ul></li>
<li>Methods that used {rlang} for non-standard evaluation now use {base}</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gains vectorized <code>y.offset</code> support (demonstrated in: <a href="http://ncss-tech.github.io/AQP/aqp/genhz-distance-eval.html" class="external-link uri">http://ncss-tech.github.io/AQP/aqp/genhz-distance-eval.html</a>)</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gains argument <code>shrink.thin</code> for shrinking horizon designation labels when horizons are thin</li>
<li>new function <code><a href="../reference/alignTransect.html">alignTransect()</a></code> for simplifying relative positioning of profile sketches</li>
<li>
<code><a href="../reference/plotMultipleSPC.html">plotMultipleSPC()</a></code> gains ability to automatically merge thematic legends</li>
<li>
<code>coordinates&lt;-</code> will check formula terms (<em>unique</em> coordinates) in the <code>@horizons</code> slot, if needed.</li>
<li>new function <code><a href="../reference/spec2Munsell.html">spec2Munsell()</a></code> for converting reflectance spectra into sRGB coordinates or closest Munsell chip</li>
<li>
<code>mixMunsell</code>:
<ul><li>new <code>mixingMethod</code> argument for selecting several mixing strategies</li>
<li>suggestions on interpreting spectral distances, message printed when greater than reasonable threshold</li>
</ul></li>
<li>minor bug-fix in <code>panel.depth_function</code> when plotting grouped step-functions</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.28" id="aqp-128-2021-03-02">aqp 1.28 (2021-03-02)<a class="anchor" aria-label="anchor" href="#aqp-128-2021-03-02"></a></h2>
<ul><li>optimization of SoilProfileCollection <code>[,j]</code>-index extraction using {data.table}</li>
<li>introduction of <code>.LAST</code>, <code>.FIRST</code> and <code>.HZID</code> SoilProfileCollection “k-keywords”</li>
<li>
<code><a href="../reference/perturb.html">perturb()</a></code> is the new generalized replacement for <code><a href="../reference/sim.html">sim()</a></code> and <code><a href="../reference/perturb.html">permute_profile()</a></code>
</li>
<li>
<code><a href="../reference/checkHzDepthLogic.html">checkHzDepthLogic()</a></code> now has a <code>byhz</code> argument for checking logic by <em>horizon</em> rather than profile</li>
<li>
<code>fillHzGaps</code> now has <code>to_top</code> and <code>to_bottom</code> arguments for filling above shallowest top / deepest bottom by profile</li>
<li>
<code><a href="../reference/fixOverlap.html">fixOverlap()</a></code> more flexible and will usually settle on a solution in fewer iterations:
<ul><li>
<code><a href="../reference/overlapMetrics.html">overlapMetrics()</a></code> instead of <code><a href="../reference/overlapMetrics.html">findOverlap()</a></code> for part of objective function</li>
<li>cooling schedule is now fully adjustable via <code>T0</code> and <code>k</code> arguments</li>
</ul></li>
<li>
<code>alignTransect</code> helper function for computing relative positions and ordering vector supplied to <code>plotSPC</code>
</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> automatically converts <code>logical</code> data supplied to <code>color</code> argument into <code>factor</code>
</li>
<li>
<code><a href="../reference/glom.html">glom()</a></code> is now vectorized over profiles</li>
<li>
<code>estimateAWC</code> introduced for testing lookup table estimation of available water capacity (AWC) of fine-earth fraction</li>
<li>
<code>correctAWC</code> introduced for testing corrections of AWC estimates for rock fragment and salts</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.27" id="aqp-127-2021-01-22">aqp 1.27 (2021-01-22)<small>2021-01-26</small><a class="anchor" aria-label="anchor" href="#aqp-127-2021-01-22"></a></h2>
<ul><li>
<code>fillHzGaps</code>: new function for fixing horizon depth topological errors and padding top/bottom of profiles with placeholder (empty) horizons</li>
<li>
<code>mixMunsell</code> now relies on suggested package {gower} for 5-10x speed bump</li>
<li>{aqp} no longer imports from {reshape} (less one dependency), all transformations from wide&lt;-&gt;long are done via {data.table}</li>
<li>methods from {data.table} are now imported by {aqp} (new dependency)</li>
<li>Major overhaul of <code><a href="../reference/plotColorQuantiles.html">plotColorQuantiles()</a></code>, now using {lattice} graphics</li>
<li>New dataset <code>equivalent_munsell</code> and method <code>equivalentMunsellChips</code> for “equivalent” Munsell chips lookup list based on all pairwise dE00 contrasts for integer “chips” in {aqp} <code>munsell</code> data set</li>
<li>Argillic critical clay contents <code>crit.clay.argillic</code> rounded to whole numbers per NSSH Part 614, subpart B, sections 614.13 and 614.14</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.26" id="aqp-126-2020-11-18">aqp 1.26 (2020-11-18)<a class="anchor" aria-label="anchor" href="#aqp-126-2020-11-18"></a></h2>
<ul><li>
<code>mutate_profile</code> uses <code>data.table::rbindlist(fill=TRUE)</code> to combine site- and horizon-level transformations</li>
<li>updates to horizon boundary encoding functions (<code>hzTopographyCodeToOffset</code>, <code>hzTopographyCodeToLineType</code>, <code>hzDistinctnessCodeToOffset</code>)</li>
<li>new function <code>L1_profiles</code> computes multivariate (L1) medians, compare to marginal medians via <code>slab</code>
</li>
<li>
<code>plotSPC</code> updates:
<ul><li>argument named changes: <code>hz.boundary.lty</code> is a horizon-level attribute that contains line type codes</li>
<li>
<code>hz.topography.offset</code> a horizon-level attribute that contains representative offsets that encode horizon boundary topography</li>
<li>
<code>plotSPC</code> now encodes <code>hz.topography.offset</code> using a vertical “bump” (chevron)</li>
</ul></li>
<li>
<code>addBracket</code> can now accept multiple bracket annotations per profile</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.25" id="aqp-125-2020-10-15">aqp 1.25 (2020-10-15)<small>2020-10-19</small><a class="anchor" aria-label="anchor" href="#aqp-125-2020-10-15"></a></h2>
<ul><li>CRAN release</li>
<li>new lookup table <code>pms.munsell.lut</code> for converting Pantone spot color codes to (closest) Munsell chip</li>
<li>new function <code>duplicate</code> will makes copies of profiles within a <code>SoilProfileCollection</code>
</li>
<li>new example data <code>us.state.soils</code>: 50 state soils + PR and VI soils</li>
<li>simulate subtractive mixtures of Munsell colors with <code>mixMunsell</code>
<ul><li>see companion function <code>plotColorMixture</code> for visualization of spectra / mixture</li>
</ul></li>
<li>complete overhaul of <code>textureTriangleSummary</code>:
<ul><li>uses <code>soiltexture</code> package for visualization (<code>plotrix</code> implementation dropped)</li>
<li>argument names changes (! may break old code, sorry)</li>
<li>dropped simulation via <code>sim = TRUE</code> argument, see <code>bootstrapSoilTexture</code> for a better approach</li>
</ul></li>
<li>new function <code>bootstrapSoilTexture</code> for simulating realistic sand/silt/clay compositions</li>
<li>
<code>combine</code> replaces/expands <code><a href="https://rdatatable.gitlab.io/data.table/reference/setops.html" class="external-link">aqp::union</a></code> due to conflicts with <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">base::union</a></code>
</li>
<li>
<code>split</code> receives some upgrades to the S4 definition to increase parity with <code>split.default</code>
</li>
<li>
<code>filter</code> is now an alias for new method <code>subset</code>, which mirrors <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">base::subset</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.24" id="aqp-124-2020-08-31">aqp 1.24 (2020-08-31)<a class="anchor" aria-label="anchor" href="#aqp-124-2020-08-31"></a></h2>
<ul><li>
<code>estimateSoilDepth</code> <strong>loses</strong> <code>top</code> and <code>bottom</code> arguments, these are automatically extracted</li>
<li>two new SoilProfileCollection wrapper methods: <code>munsell2SPC</code>, <code>spc2mpspline</code>
</li>
<li>add <code>returnData</code> argument to <code>contrastChart</code>
</li>
<li>improvements to <code>glom(..., invert=TRUE)</code>, <code>glomApply</code>, and better tests</li>
<li>new wrapper method around <code>glomApply</code>: <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">aqp::trunc</a></code> for cases when top and bottom depth interval is the same for all profiles in a <em>SoilProfileCollection</em>
</li>
<li>fix for routing of <code>NULL</code> through <code>$&lt;-</code> and <code>horizons&lt;-</code> or <code>site&lt;-</code> (<a href="https://github.com/ncss-tech/aqp/issues/163" class="external-link uri">https://github.com/ncss-tech/aqp/issues/163</a>)</li>
<li>fix handling of missing metadata in (old) serialized <em>SoilProfileCollection</em> objects</li>
<li>fix for promotion of <code>data.table</code> with character vector (not formula) interface</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.23" id="aqp-123-2020-07-14">aqp 1.23 (2020-07-14)<a class="anchor" aria-label="anchor" href="#aqp-123-2020-07-14"></a></h2>
<ul><li>enhanced <em>SoilProfileCollection</em> object validity checks via S4; new method <code>spc_in_sync</code> (<a href="https://github.com/ncss-tech/aqp/pull/152" class="external-link uri">https://github.com/ncss-tech/aqp/pull/152</a>)</li>
<li>optimization of <code>[</code> subset method and optional use of <code>data.table</code> (<a href="https://github.com/ncss-tech/aqp/pull/155" class="external-link uri">https://github.com/ncss-tech/aqp/pull/155</a>)</li>
<li>
<code>depths&lt;-</code> has been optimized and minimally validates input data</li>
<li>default horizon ID (<code>hzID</code>) is now a <code>character</code> data type</li>
<li>
<code><a href="https://rdatatable.gitlab.io/data.table/reference/setops.html" class="external-link">aqp::union</a></code> uses <code>depths&lt;-</code> internally; explicitly enforcing profile ID + top depth order in horizon data is safer but results in different ordering if <code>union</code>-ing IDs that “intermingle” (need to be re-sorted).</li>
<li>new experimental method is <code>permute_profile</code>; similar to <code>sim</code> but for boundaries. The interface to this function is likely to change/be expanded.</li>
<li>added <code>segment</code> c/o <a href="https://github.com/smroecker" class="external-link">@smroecker</a></li>
<li>fix for unit-length and zero-length legends in <code>plotSPC</code>
</li>
<li>fix for <code>plot</code> generic to show <code><a href="../reference/SoilProfileCollection-plotting-methods.html">aqp::plot</a></code> in <code><a href="../reference/SoilProfileCollection-plotting-methods.html">?plot</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.22" id="aqp-122-2020-06-24">aqp 1.22 (2020-06-24)<a class="anchor" aria-label="anchor" href="#aqp-122-2020-06-24"></a></h2>
<ul><li>basic support for promotion of <code>tbl_df</code> and <code>data.table</code> to <em>SoilProfileCollection</em>
</li>
<li>new method <code>aqp_df_class</code> to determine class name in use in a <em>SoilProfileCollection</em> object</li>
<li>
<code>plotSPC</code> upgrades (<a href="https://github.com/ncss-tech/aqp/pull/146" class="external-link uri">https://github.com/ncss-tech/aqp/pull/146</a>)</li>
<li>new methods related to mollic epipedon: <code>mollic.thickness.requirement</code>, <code>hasDarkColors</code>
</li>
<li>new <code>estimateSoilDepth</code>-like methods for depth to multiple features via pattern matching: <code>depthOf</code>, <code>minDepthOf</code>, <code>maxDepthOf</code>
</li>
<li>soil texture helper functions (<code>ssc_to_texcl</code>, <code>texcl_to_ssc</code>, <code>texmod_to_fragvoltot</code>, <code>texture_to_taxpartsize</code>)</li>
<li>optimization of <code>[i,]</code> <code>[,j]</code> subset methods for <em>data.frame</em>-based slots (<a href="https://github.com/ncss-tech/aqp/issues/135" class="external-link uri">https://github.com/ncss-tech/aqp/issues/135</a>)</li>
<li>new verbs: <code>mutate</code>, <code>mutate_profile</code> (<a href="https://github.com/ncss-tech/aqp/issues/118" class="external-link uri">https://github.com/ncss-tech/aqp/issues/118</a>)</li>
<li>ROSETTA centroids and water retention by texture class (<a href="https://github.com/ncss-tech/aqp/issues/131" class="external-link uri">https://github.com/ncss-tech/aqp/issues/131</a>)</li>
<li>fix for <code>getSurfaceHorizonDepth</code> with buried horizons / non-contiguous instances of matching horizons (<a href="https://github.com/ncss-tech/aqp/issues/132" class="external-link uri">https://github.com/ncss-tech/aqp/issues/132</a>)</li>
<li>fix for default <code>plotSPC</code> with small number of profiles ((<a href="https://github.com/ncss-tech/aqp/issues/128" class="external-link uri">https://github.com/ncss-tech/aqp/issues/128</a>)</li>
<li>remove implicit conversion to SpatialPointsDataFrame with unit-length <code>[</code> j-index subset ((<a href="https://github.com/ncss-tech/aqp/issues/125" class="external-link uri">https://github.com/ncss-tech/aqp/issues/125</a>)</li>
<li>fix in slab when <code>slab.structure[2] &gt; max(x)</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.19.01" id="aqp-11901-2020-02-07">aqp 1.19.01 (2020-02-07)<a class="anchor" aria-label="anchor" href="#aqp-11901-2020-02-07"></a></h2>
<ul><li>proof of concept for tidy SoilProfileCollection subsetting</li>
<li>define <code>[[</code> subsetting method; an “ambivalent” accessor for site- or horizon-level properties</li>
<li>new subset verbs <code>grepSPC</code>, <code>filter</code>, <code>subApply</code> for use in <code>%&gt;%</code>-lines</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.19" id="aqp-119-2020-01-22">aqp 1.19 (2020-01-22)<small>2020-01-24</small><a class="anchor" aria-label="anchor" href="#aqp-119-2020-01-22"></a></h2>
<ul><li>CRAN release</li>
<li>new functions: <code><a href="../reference/hzDesgn.html">hzDesgn()</a></code>, get horizon designations from a SPC</li>
<li>new functions: <code><a href="../reference/hzdesgnname.html">hzdesgnname()</a></code>/<code>hzdesgnname()&lt;-</code> and <code><a href="../reference/hztexclname.html">hztexclname()</a></code>/<code>hztexclname()&lt;-</code> get/set column containing horizon designations and texture classes</li>
<li>better error/logic handling for <code><a href="../reference/glom.html">glom()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.18.5" id="aqp-1185-2020-01-21">aqp 1.18.5 (2020-01-21)<a class="anchor" aria-label="anchor" href="#aqp-1185-2020-01-21"></a></h2>
<ul><li>
<code><a href="../reference/profileApply.html">profileApply()</a></code> enhancement for large <code>SoilProfileCollection</code> objects (<a href="https://github.com/ncss-tech/aqp/issues/112" class="external-link uri">https://github.com/ncss-tech/aqp/issues/112</a>)</li>
<li>add <code><a href="../reference/profileApply.html">profileApply()</a></code> <code>frameify</code> argument for <code>data.frame</code> output (<a href="https://github.com/ncss-tech/aqp/issues/111" class="external-link uri">https://github.com/ncss-tech/aqp/issues/111</a>)</li>
<li>
<code><a href="../reference/checkHzDepthLogic.html">checkHzDepthLogic()</a></code> replaces <code>test_hz_logic()</code>
</li>
<li>thanks to <a href="https://CRAN.R-project.org/package=farver" class="external-link">farver &gt;= 2.0.3</a>, <code><a href="../reference/rgb2munsell.html">rgb2munsell()</a></code> and <code><a href="../reference/colorQuantiles.html">colorQuantiles()</a></code> now uses the CIE2000 distance metric for color comparison</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.18.4" id="aqp-1184-2020-01-06">aqp 1.18.4 (2020-01-06)<a class="anchor" aria-label="anchor" href="#aqp-1184-2020-01-06"></a></h2>
<ul><li>bug fix (rare) when setting / replacing horizon attributes (<a href="https://github.com/ncss-tech/aqp/issues/105" class="external-link uri">https://github.com/ncss-tech/aqp/issues/105</a>)</li>
<li>bug fix in <code>colorQuantiles</code> until <code>farver</code> 2.0.2 is available on CRAN</li>
<li>
<code>SoilProfileCollection</code> object gains new slot: <code>@restrictions</code>, fix old objects with <code><a href="../reference/rebuildSPC.html">rebuildSPC()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.18.3" id="aqp-1183-2019-12-19">aqp 1.18.3 (2019-12-19)<a class="anchor" aria-label="anchor" href="#aqp-1183-2019-12-19"></a></h2>
<ul><li>
<code><a href="../reference/evalMissingData.html">evalMissingData()</a></code> gets new argument for relative vs. absolute evaluation of missing data</li>
<li>
<code><a href="../reference/horizonColorIndices.html">horizonColorIndices()</a></code>, <code><a href="../reference/harden.rubification.html">harden.rubification()</a></code>, <code><a href="../reference/harden.melanization.html">harden.melanization()</a></code>, <code><a href="../reference/thompson.bell.darkness.html">thompson.bell.darkness()</a></code> and associated functions in soilColorIndices.R</li>
<li>fix for <a href="https://github.com/ncss-tech/aqp/issues/44" class="external-link uri">https://github.com/ncss-tech/aqp/issues/44</a>
</li>
<li>fix for <a href="https://github.com/ncss-tech/aqp/issues/66" class="external-link uri">https://github.com/ncss-tech/aqp/issues/66</a>
</li>
<li>new example data: <code>rowley2019</code>
</li>
<li>dropped some dependencies</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.10" id="aqp-11710-2019-10-30">aqp 1.17.10 (2019-10-30)<a class="anchor" aria-label="anchor" href="#aqp-11710-2019-10-30"></a></h2>
<ul><li>removing imported functions from <code>Hmisc</code> (<code>hdquantile</code>), loading <code>aqp</code> is now much faster
<ul><li>
<code><a href="../reference/slab.html">slab()</a></code> now uses <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile()</a></code> as the default slab function</li>
<li>details at: <a href="https://github.com/ncss-tech/aqp/issues/79" class="external-link uri">https://github.com/ncss-tech/aqp/issues/79</a>
</li>
<li>previous behavior of <code><a href="../reference/slab.html">slab()</a></code> can be activated via argument: <code>slab.fun = aqp:::.slab.fun.numeric.HD</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.08" id="aqp-11708-2019-10-03">aqp 1.17.08 (2019-10-03)<a class="anchor" aria-label="anchor" href="#aqp-11708-2019-10-03"></a></h2>
<ul><li>
<code><a href="../reference/generalize.hz.html">generalize.hz()</a></code> gets a argument for passing additional arguments to <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep()</a></code>, e.g. <code>perl=TRUE</code>
</li>
<li>
<code><a href="../reference/addVolumeFraction.html">addVolumeFraction()</a></code> can now accept a vector of colors, as many as number of horizons</li>
<li>new sample data: <code>jacobs2000</code>, pending documentation</li>
<li>
<code><a href="../reference/aggregateColor.html">aggregateColor()</a></code> faster and more accurate, using delta-E00 for quantized colors c/o {farver} (see <a href="https://github.com/ncss-tech/aqp/issues/98" class="external-link uri">https://github.com/ncss-tech/aqp/issues/98</a>)</li>
<li>new functions <code><a href="../reference/contrastChart.html">contrastChart()</a></code> and <code><a href="../reference/soilPalette.html">soilPalette()</a></code>
</li>
<li>aqp 1.18 scheduled for next CRAN release</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.06" id="aqp-11706-2019-07-15">aqp 1.17.06 (2019-07-15)<a class="anchor" aria-label="anchor" href="#aqp-11706-2019-07-15"></a></h2>
<ul><li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gains a new argument for relative positioning: <code>relative.pos</code>
</li>
<li>relative positioning helper function: <code><a href="../reference/fixOverlap.html">fixOverlap()</a></code>, see manual page for examples</li>
<li>
<code><a href="../reference/explainPlotSPC.html">explainPlotSPC()</a></code>, <code><a href="../reference/addDiagnosticBracket.html">addDiagnosticBracket()</a></code>, and <code><a href="../reference/addVolumeFraction.html">addVolumeFraction()</a></code> updated accordingly</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.05" id="aqp-11705-2019-05-18">aqp 1.17.05 (2019-05-18)<a class="anchor" aria-label="anchor" href="#aqp-11705-2019-05-18"></a></h2>
<ul><li>new functions colorContrast(), contrastClass(), and huePosition()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.02" id="aqp-11702-2019-03-15">aqp 1.17.02 (2019-03-15)<a class="anchor" aria-label="anchor" href="#aqp-11702-2019-03-15"></a></h2>
<ul><li>fixed nasty bug in [-indexing when SPC contains a single profile (<a href="https://github.com/ncss-tech/aqp/issues/85" class="external-link uri">https://github.com/ncss-tech/aqp/issues/85</a>)</li>
<li>new function validSpatialData() to test for place-holder contents of <a href="https://github.com/sp" class="external-link">@sp</a></li>
<li>rebuildSPC() will now correct invalid, place-holder SpatialPoints in <a href="https://github.com/sp" class="external-link">@sp</a></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17.01" id="aqp-11701-2019-02-07">aqp 1.17.01 (2019-02-07)<a class="anchor" aria-label="anchor" href="#aqp-11701-2019-02-07"></a></h2>
<ul><li>new version number system</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> will now attempt to create multi-row legends when using a factor &gt; n.legend levels</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> will now generate &gt; 10 colors for legends associated with a factor (<a href="https://github.com/ncss-tech/aqp/issues/9" class="external-link uri">https://github.com/ncss-tech/aqp/issues/9</a>)</li>
<li>
<code><a href="../reference/munsell2rgb.html">munsell2rgb()</a></code> will now return CIE LAB coordinates if requested (<a href="https://github.com/ncss-tech/aqp/issues/69" class="external-link uri">https://github.com/ncss-tech/aqp/issues/69</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.17" id="aqp-117-2018-12-28">aqp 1.17 (2018-12-28)<small>2019-01-03</small><a class="anchor" aria-label="anchor" href="#aqp-117-2018-12-28"></a></h2>
<ul><li>CRAN release</li>
<li>
<code><a href="../reference/aggregateColor.html">aggregateColor()</a></code> gets a new feature, similar colors can be grouped via cluster::pam()</li>
<li>new functions: <code><a href="../reference/previewColors.html">previewColors()</a></code>, <code><a href="../reference/colorQuantiles.html">colorQuantiles()</a></code>, <code><a href="../reference/plotColorQuantiles.html">plotColorQuantiles()</a></code>
</li>
<li>new function: <code>horizonDepths()&lt;-</code>, edit top/bottom names after SPC init</li>
<li>new function: <code>profile_id()&lt;-</code>, edit profile IDs after init; be careful!</li>
<li>new functions: <code><a href="../reference/hzID.html">hzID()</a></code> and <code>hzID()&lt;-</code>, get/set unique horizon IDs</li>
<li>new functions: <code><a href="../reference/hzidname.html">hzidname()</a></code> and <code>hzidname()&lt;-</code>, get/set column containing unique horizon IDs</li>
<li>
<code>rbind.SoilProfileCollection()</code> has been deprecated in favor of <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">union()</a></code>, gains new functionality: <a href="https://github.com/ncss-tech/aqp/issues/71" class="external-link uri">https://github.com/ncss-tech/aqp/issues/71</a>
</li>
<li>bug fixes in sanity checks within <code>horizonNames()&lt;-</code>
</li>
<li><strong>!!! SoilProfileCollection internal structure has changed: <a href="https://github.com/ncss-tech/aqp/issues/74" class="external-link uri">https://github.com/ncss-tech/aqp/issues/74</a></strong></li>
<li>see release notes for more: <a href="https://github.com/ncss-tech/aqp/releases/tag/v1.17" class="external-link uri">https://github.com/ncss-tech/aqp/releases/tag/v1.17</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.16-6" id="aqp-116-6-2018-12-12">aqp 1.16-6 (2018-12-12)<a class="anchor" aria-label="anchor" href="#aqp-116-6-2018-12-12"></a></h2>
<ul><li>partial bug fix in test_hz_logic() related to missing top AND bottom depths, needs work: <a href="https://github.com/ncss-tech/aqp/issues/65" class="external-link uri">https://github.com/ncss-tech/aqp/issues/65</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.16-5" id="aqp-116-5-2018-11-21">aqp 1.16-5 (2018-11-21)<a class="anchor" aria-label="anchor" href="#aqp-116-5-2018-11-21"></a></h2>
<ul><li>moved <code>explainPlotSPC</code> from SPC tutorial to <code><a href="../reference/explainPlotSPC.html">aqp::explainPlotSPC()</a></code>
</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> is a little better at estimating “extra” vertical / horizontal space, still needs work (<a href="https://github.com/ncss-tech/aqp/issues/62" class="external-link uri">https://github.com/ncss-tech/aqp/issues/62</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.16-2" id="aqp-116-2-2018-05-22">aqp 1.16-2 (2018-05-22)<a class="anchor" aria-label="anchor" href="#aqp-116-2-2018-05-22"></a></h2>
<ul><li>fixing <a href="https://github.com/ncss-tech/aqp/issues/53" class="external-link">#53</a> and <a href="https://github.com/ncss-tech/aqp/issues/54" class="external-link">#54</a></li>
<li>bug fix for too many decimal places in legend classes (floating point -&gt; character issue)</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gets a new argument, <code>n.legend</code>: approximate number of classes</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.15.5" id="aqp-1155-2018-03-14">aqp 1.15.5 (2018-03-14)<a class="anchor" aria-label="anchor" href="#aqp-1155-2018-03-14"></a></h2>
<ul><li>enhancement to <code><a href="../reference/aggregateColor.html">aggregateColor()</a></code> for cases when horizon depths are missing or top/bottom logic flipped</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.15.4" id="aqp-1154-2018-01-29">aqp 1.15.4 (2018-01-29)<a class="anchor" aria-label="anchor" href="#aqp-1154-2018-01-29"></a></h2>
<ul><li>bug fix for <code><a href="../reference/addVolumeFraction.html">addVolumeFraction()</a></code> when fragment volume &gt; 100%</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.15.3" id="aqp-1153-2018-01-24">aqp 1.15.3 (2018-01-24)<a class="anchor" aria-label="anchor" href="#aqp-1153-2018-01-24"></a></h2>
<ul><li>added a new argument to <code><a href="../reference/addDiagnosticBracket.html">addDiagnosticBracket()</a></code> allowing for specification of column containing diagnostic feature kind</li>
<li>
<code><a href="../reference/addBracket.html">addBracket()</a></code> now requires a data.frame with plotting details, see manual page</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.15.2" id="aqp-1152-2017-11-30">aqp 1.15.2 (2017-11-30)<a class="anchor" aria-label="anchor" href="#aqp-1152-2017-11-30"></a></h2>
<ul><li>added <code><a href="../reference/shannonEntropy.html">shannonEntropy()</a></code>, <code><a href="../reference/confusionIndex.html">confusionIndex()</a></code>, and <code><a href="../reference/brierScore.html">brierScore()</a></code>
</li>
<li>bug fix in <code><a href="../reference/get.ml.hz.html">get.ml.hz()</a></code> for horizon names that start with number or punctuation</li>
<li>
<code><a href="../reference/get.ml.hz.html">get.ml.hz()</a></code> now uses internal aqp functions for Shannon entropy and Brier scores</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.15" id="aqp-115-2017-11-11">aqp 1.15 (2017-11-11)<small>2017-11-12</small><a class="anchor" aria-label="anchor" href="#aqp-115-2017-11-11"></a></h2>
<ul><li>push to CRAN, getting ready for aqp 2.0</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.14" id="aqp-114-2017-09-19">aqp 1.14 (2017-09-19)<a class="anchor" aria-label="anchor" href="#aqp-114-2017-09-19"></a></h2>
<ul><li>
<code><a href="../reference/missingDataGrid.html">missingDataGrid()</a></code> relaxing <code><a href="../reference/slice.html">slice()</a></code> with <code>strict=FALSE</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.12" id="aqp-112-2017-07-05">aqp 1.12 (2017-07-05)<a class="anchor" aria-label="anchor" href="#aqp-112-2017-07-05"></a></h2>
<ul><li>CIELAB colors are now in the <code>munsell</code> look-up table</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.12" id="aqp-112-2017-07-05-1">aqp 1.12 (2017-07-05)<a class="anchor" aria-label="anchor" href="#aqp-112-2017-07-05-1"></a></h2>
<ul><li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> now able to deal with missing horizon data (thanks Stephen R.)</li>
<li>this is likely the last release before aqp 2.0</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.11" id="aqp-111-2017-06-13">aqp 1.11 (2017-06-13)<a class="anchor" aria-label="anchor" href="#aqp-111-2017-06-13"></a></h2>
<ul><li>
<code><a href="../reference/rgb2munsell.html">rgb2munsell()</a></code> now uses CIELAB colorspace for lookup, results are <em>more accurate</em> as compared to using sRGB colorspace</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.10-4" id="aqp-110-4-2017-05-02">aqp 1.10-4 (2017-05-02)<a class="anchor" aria-label="anchor" href="#aqp-110-4-2017-05-02"></a></h2>
<ul><li>
<code>texture.triangle.low.rv.high()</code> renamed to <code><a href="../reference/textureTriangleSummary.html">textureTriangleSummary()</a></code>. The old name still works, but a message is issued</li>
<li>new argument to <code><a href="../reference/textureTriangleSummary.html">textureTriangleSummary()</a></code> <code>texture.names</code>: for toggling texture class names</li>
<li>minor bug fix in <code>textureTriangleSummary(..., sim=TRUE)</code>, previous simulated compositional data was not correct because the stats::var() was being used vs. compositions::var.acomp(). the variance / covariance values were 2-5x too small.</li>
<li>new function <code><a href="../reference/tauW.html">tauW()</a></code>, added by D.G. Rossiter: see manual page for references</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.10" id="aqp-110-2017-01-05">aqp 1.10 (2017-01-05)<small>2017-01-06</small><a class="anchor" aria-label="anchor" href="#aqp-110-2017-01-05"></a></h2>
<ul><li>fixed major bug (<a href="https://github.com/ncss-tech/aqp/issues/23" class="external-link uri">https://github.com/ncss-tech/aqp/issues/23</a>) related to editing horizon-level attributes after <code>rbind</code>-ing</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.13" id="aqp-1913-2016-10-20">aqp 1.9.13 (2016-10-20)<a class="anchor" aria-label="anchor" href="#aqp-1913-2016-10-20"></a></h2>
<ul><li>new dataset <code>soil_minerals</code> with some common soil mineral colors source: <a href="http://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/edu/?cid=nrcs142p2_054286" class="external-link uri">http://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/edu/?cid=nrcs142p2_054286</a>
</li>
<li>added clarification to Munsell color conversion: changed “RGB” to “sRGB”.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.10" id="aqp-1910-2016-07-01">aqp 1.9.10 (2016-07-01)<small>2016-07-08</small><a class="anchor" aria-label="anchor" href="#aqp-1910-2016-07-01"></a></h2>
<ul><li>new function for estimating the closest Munsell chip: <code><a href="../reference/getClosestMunsellChip.html">getClosestMunsellChip()</a></code>
</li>
<li>new example data set (<code>sp6</code>) based on <a href="http://www.sciencedirect.com/science/article/pii/S0016706111001972" class="external-link uri">http://www.sciencedirect.com/science/article/pii/S0016706111001972</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.8" id="aqp-198-2016-03-07">aqp 1.9.8 (2016-03-07)<a class="anchor" aria-label="anchor" href="#aqp-198-2016-03-07"></a></h2>
<ul><li>
<code><a href="../reference/munsell2rgb.html">munsell2rgb()</a></code> can now accommodate neutral hues (N), and values of “2.5”, see manual page for details</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.7" id="aqp-197-2016-02-25">aqp 1.9.7 (2016-02-25)<a class="anchor" aria-label="anchor" href="#aqp-197-2016-02-25"></a></h2>
<ul><li>new function: <code><a href="../reference/soilColorSignature.html">soilColorSignature()</a></code>, see manual page</li>
<li>new function: <code><a href="../reference/parseMunsell.html">parseMunsell()</a></code> for converting strings of ‘10YR 2/2’ into R colors or RGB triplets
<ul><li>this is a convenience function that calls <code>munsell2rgb</code> on parsed strings of full Munsell notation</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.6" id="aqp-196-2016-02-23">aqp 1.9.6 (2016-02-23)<a class="anchor" aria-label="anchor" href="#aqp-196-2016-02-23"></a></h2>
<ul><li>minor changes to <code><a href="../reference/profile_compare.html">profile_compare()</a></code>, getting ready for a complete overhaul to this function</li>
<li>new function: <code><a href="../reference/evalMissingData.html">evalMissingData()</a></code>, see manual page</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.5" id="aqp-195-2015-12-28">aqp 1.9.5 (2015-12-28)<a class="anchor" aria-label="anchor" href="#aqp-195-2015-12-28"></a></h2>
<ul><li>documentation for new transition probability functions, see ?hzTransitionProbabilities for details</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.4" id="aqp-194-2015-12-22">aqp 1.9.4 (2015-12-22)<a class="anchor" aria-label="anchor" href="#aqp-194-2015-12-22"></a></h2>
<ul><li>better checking for other places where the bug fixed in rbind.SoilProfileCollection (aqp 1.9.3) could occur</li>
<li>new functions: <code>genhzTableToAdjMat</code>, <code>hzTransitionProbabilities</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.3" id="aqp-193-2015-12-18">aqp 1.9.3 (2015-12-18)<small>2015-12-19</small><a class="anchor" aria-label="anchor" href="#aqp-193-2015-12-18"></a></h2>
<ul><li>fixed a nasty bug in <code>rbind.SoilProfileCollection()</code> related to object re-ordering
<ul><li>in aqp &lt; 1.9.3: there was a chance than <code>profile_id(x)</code> and <code>site(x)[[idname(x)]])</code> would not match</li>
<li>bugs like this will no longer be a possibility after aqp 2.0, new SPC object structure planned</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.1" id="aqp-191-2015-11-18">aqp 1.9.1 (2015-11-18)<a class="anchor" aria-label="anchor" href="#aqp-191-2015-11-18"></a></h2>
<ul><li>
<code><a href="../reference/groupedProfilePlot.html">groupedProfilePlot()</a></code> gains some new arguments and better documentation (see manual page)</li>
<li>
<code>plot.SoilProfileCollection</code> gains argument: <code>default.color</code> (see manual page)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9" id="aqp-19-2015-08-26">aqp 1.9 (2015-08-26)<a class="anchor" aria-label="anchor" href="#aqp-19-2015-08-26"></a></h2>
<ul><li>added neutral colors to <code><a href="../reference/munsell2rgb.html">munsell2rgb()</a></code>
</li>
<li>new function <code><a href="../reference/guessGenHzLevels.html">guessGenHzLevels()</a></code>
</li>
<li>new function <code><a href="../reference/aggregateColor.html">aggregateColor()</a></code> and associated helper function <code><a href="https://rdrr.io/pkg/sharpshootR/man/aggregateColorPlot.html" class="external-link">sharpshootR::aggregateColorPlot()</a></code>
</li>
<li>more code clean-up and fixes in examples to make <code>R CMD check --as-cran</code> happy</li>
<li>fixed some ancient examples in the <code><a href="../reference/profileApply.html">profileApply()</a></code> manual page</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-5" id="aqp-18-5-2015-04-17">aqp 1.8-5 (2015-04-17)<a class="anchor" aria-label="anchor" href="#aqp-18-5-2015-04-17"></a></h2>
<ul><li>bug fixes and documentation updates</li>
<li>
<code><a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest::digest</a></code> is now imported by default</li>
<li>better documentation for unique-method of <code>SoilProfileCollection</code> objects</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8-3" id="aqp-18-3-2015-03-02">aqp 1.8-3 (2015-03-02)<a class="anchor" aria-label="anchor" href="#aqp-18-3-2015-03-02"></a></h2>
<ul><li>updated documentation</li>
<li>plotSPC gets a new argument: <code>x.idx.offset</code>: allows for plotting of multiple SPC objects within the same figure, see examples</li>
<li>plotSCP gets a new argument: <code>plot.depth.axis</code>: enable / disable depth axis, useful for multi-collection plots</li>
<li>new function: <code>profileGroupLabels</code>: simple annotation for groups of profiles within a profile sketch, see manual page for examples</li>
<li>new function: <code>plotMultipleSPC</code>: plot several SPC objects on the same axis, see manual page for examples</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7-11" id="aqp-17-11-2015-01-30">aqp 1.7-11 (2015-01-30)<a class="anchor" aria-label="anchor" href="#aqp-17-11-2015-01-30"></a></h2>
<ul><li>fixed bugs in <code>addBrackets()</code>, <code><a href="../reference/panel.depth_function.html">panel.depth_function()</a></code>, and <code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code>
</li>
<li>new arguments to <code>addBrackets()</code> allow for annotation of brackets</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7-10" id="aqp-17-10-2015-01-15">aqp 1.7-10 (2015-01-15)<a class="anchor" aria-label="anchor" href="#aqp-17-10-2015-01-15"></a></h2>
<ul><li>names() method for SoilProfileCollection objects returns a concatenated vector of horizon + site names</li>
<li>siteNames() and horizonNames() can now be used to extract from SoilProfileCollection</li>
<li>siteNames&lt;- and horizonNames&lt;- can now be used to change names; experimental!</li>
<li>note: internal structure of SoilProfileCollection objects will be changing soon!!!</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7-8" id="aqp-17-8-2014-12-08">aqp 1.7-8 (2014-12-08)<a class="anchor" aria-label="anchor" href="#aqp-17-8-2014-12-08"></a></h2>
<ul><li>texture.triangle.low.rv.high(): new arguments, likely breaking previous usage when method=‘closest’, see manual page for details</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7-7" id="aqp-17-7-2014-11-06">aqp 1.7-7 (2014-11-06)<small>2014-11-13</small><a class="anchor" aria-label="anchor" href="#aqp-17-7-2014-11-06"></a></h2>
<ul><li>bug fix c/o Jose Padarian: SPC objects now understand logical indexing rules</li>
<li>removed <code>spatial_subset()</code>: this functionality can be accomplished outside of AQP and removes dependency on rgeos package</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.7-6" id="aqp-17-6-2014-09-26">aqp 1.7-6 (2014-09-26)<a class="anchor" aria-label="anchor" href="#aqp-17-6-2014-09-26"></a></h2>
<ul><li>bug fix c/o Jos? Padarian: when promoting coordinates from <a href="https://github.com/site" class="external-link">@site</a>, drop=FALSE is required to prevent a single remaining attribute from being down-graded to a vector– thanks!</li>
<li>get.ml.hz() now returns a “pseudo” Brier Score, using the most-likely horizon label as the “correct” value</li>
<li>new function rgb2munsell()</li>
<li>new function estimateSoilDepth()</li>
<li>new function getSoilDepthClass()</li>
<li>new documentation / tutorials</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6-4" id="aqp-16-4-2014-02-14">aqp 1.6-4 (2014-02-14)<a class="anchor" aria-label="anchor" href="#aqp-16-4-2014-02-14"></a></h2>
<ul><li>When applied to a single categorical variable, the results from slab() now contain an attribute ‘original.levels’ that contains the original factor levels. This is important because when casting from long-&gt;wide format, illegal column names are scrubbed by make.names(). This process would convert horizon designations like ‘2Bt’ into ‘X2Bt’. You can recover the original horizon names via <code>attr(x, 'original.levels')</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6-3" id="aqp-16-3-2014-02-04">aqp 1.6-3 (2014-02-04)<a class="anchor" aria-label="anchor" href="#aqp-16-3-2014-02-04"></a></h2>
<ul><li>plotSPC() has a new argument: <code>label</code>, used to set site-level attribute containing profile labels</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6-2" id="aqp-16-2-2014-01-10">aqp 1.6-2 (2014-01-10)<a class="anchor" aria-label="anchor" href="#aqp-16-2-2014-01-10"></a></h2>
<ul><li>plotSPC() now registers plotting parameters in the environment <code>aqp.env</code>
</li>
<li>new function addVolumeFraction() for annotating profile plots with volumetric information (e.g. rock fragment volume)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6-1" id="aqp-16-1-2013-12-31">aqp 1.6-1 (2013-12-31)<a class="anchor" aria-label="anchor" href="#aqp-16-1-2013-12-31"></a></h2>
<ul><li>plotSPC() attempts to guess which column contains horizon designations</li>
<li>plotSPC() can now color horizons based on continuous soil properties (e.g. clay content)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6" id="aqp-16-2013-12-11">aqp 1.6 (2013-12-11)<small>2013-12-17</small><a class="anchor" aria-label="anchor" href="#aqp-16-2013-12-11"></a></h2>
<ul><li>rbind.SoilProfileCollection() now re-orders data according to the new set of profile IDs
<ul><li>this fixes several problems associated with assumptions in profile_compare()</li>
</ul></li>
<li>profile_compare() will be re-written soon to work natively with SPC objects</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-6" id="aqp-15-6-2013-11-25">aqp 1.5-6 (2013-11-25)<a class="anchor" aria-label="anchor" href="#aqp-15-6-2013-11-25"></a></h2>
<ul><li>new function addBracket() for annotating profile sketches with depth-brackets; useful for plotting diagnostic features</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-6" id="aqp-15-6-2013-11-15">aqp 1.5-6 (2013-11-15)<a class="anchor" aria-label="anchor" href="#aqp-15-6-2013-11-15"></a></h2>
<ul><li>new function missingDataGrid() for graphically describing the presence of missing data in an SPC object</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-2" id="aqp-15-2-2013-04-09">aqp 1.5-2 (2013-04-09)<small>2013-04-18</small><a class="anchor" aria-label="anchor" href="#aqp-15-2-2013-04-09"></a></h2>
<ul><li>panel.depth_function() now prints “contributing fraction” values in the same color as corresponding depth-function lines and shaded areas</li>
<li>panel.depth_function() gains an argument ‘cf.col’ for manually specifying the CF color</li>
<li>panel.depth_function() gains an argument ‘cf.interval’ for manually specifying printed CF depths</li>
<li>prepanel.depth_function() now extends x-lim by 5% in either direction for cleaner-looking plots</li>
<li>added some details to slab() documentation</li>
<li>fixed minor bug in min() and max() methods for SoilProfileCollection objects in the presence of missing data</li>
<li>min() and max() methods for SoilProfileCollection objects now have a second argument for checking depth based on the presence of data in that column</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5-1" id="aqp-15-1-2013-03-07">aqp 1.5-1 (2013-03-07)<a class="anchor" aria-label="anchor" href="#aqp-15-1-2013-03-07"></a></h2>
<ul><li>removed excessive checking in SoilProfileCollection init code, this may speed things up
<ul><li>previously identified horizonation errors may no longer result in ERRORS; be sure to test</li>
</ul></li>
<li>test_hz_logic() now more useful:
<ul><li>always checks for NA and overlapping horizons</li>
<li>no longer called with initialization of SoilProfileCollection objects</li>
<li>note that default behavior has changed since version 1.5</li>
<li>moved related documentation to test_hz_logic manual page</li>
</ul></li>
<li>new mini-vignette on dealing with bad data (dealing-with-bad-data.html)</li>
<li>better documentation for slice()</li>
<li>new warnings related to missing data in the grouping variable passed to slab()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.5" id="aqp-15-2013-02-24">aqp 1.5 (2013-02-24)<small>2013-02-26</small><a class="anchor" aria-label="anchor" href="#aqp-15-2013-02-24"></a></h2>
<ul><li>profileApply() can now return arbitrary objects = new subsetting/transformation possibilities
<ul><li>see ?profileApply for examples</li>
</ul></li>
<li>panel.depth_function() can now display contributing fraction values with grouped data
<ul><li>see multi-variate example in ?slab</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-7" id="aqp-14-7-2013-01-24">aqp 1.4-7 (2013-01-24)<a class="anchor" aria-label="anchor" href="#aqp-14-7-2013-01-24"></a></h2>
<ul><li>HTML version of all documentation (including images) auto-generated via knitr and available on the r-forge website</li>
<li>new function: <code>texture.triangle.low.rv.high()</code> plots texture data with low-high range defined by quantiles</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-6" id="aqp-14-6-2013-01-03">aqp 1.4-6 (2013-01-03)<a class="anchor" aria-label="anchor" href="#aqp-14-6-2013-01-03"></a></h2>
<ul><li>updated documentation and SoilProfileCollection tutorial</li>
<li>plans laid for parallel processing in <code><a href="../reference/slab.html">slab()</a></code> and <code><a href="../reference/profileApply.html">profileApply()</a></code> via ‘parallel’ package</li>
<li>
<code><a href="../reference/SoilProfileCollection-plotting-methods.html">plotSPC()</a></code> gets a <code>density</code> argument for shaded coloring of horizons</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4-5" id="aqp-14-5-2012-12-29">aqp 1.4-5 (2012-12-29)<a class="anchor" aria-label="anchor" href="#aqp-14-5-2012-12-29"></a></h2>
<ul><li>
<code><a href="../reference/slab.html">slab()</a></code> re-written from scratch, resulting in reduced memory footprint and quicker running time ! older code based on slab() is likely to now broken- sorry, it won’t happen again
<ul><li>the new code is much slimmer and based on aggregate() rather than ddply</li>
<li>function arguments have changed so be sure to check the manual page</li>
<li>user-supplied functions are now much simpler to write and rely on vectors rather than data.frames (= faster)</li>
<li>the next major release will contain additional examples of how to use the new features</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4" id="aqp-14-2012-12-18">aqp 1.4 (2012-12-18)<small>2012-12-21</small><a class="anchor" aria-label="anchor" href="#aqp-14-2012-12-18"></a></h2>
<ul><li>new function <code><a href="../reference/sim.html">sim()</a></code> for simulation based on a template soil profile, proper documentation pending…</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3-3" id="aqp-13-3-2012-12-06">aqp 1.3-3 (2012-12-06)<a class="anchor" aria-label="anchor" href="#aqp-13-3-2012-12-06"></a></h2>
<ul><li>new function <code><a href="../reference/subsetProfiles.html">subsetProfiles()</a></code> for simpler subsetting of <code>SoilProfileCollection</code> objects via site or horizon-level attributes</li>
<li>
<code><a href="../reference/get.ml.hz.html">get.ml.hz()</a></code> now returns a ‘confidence’ for each horizon (as a percent)</li>
<li>added experimental ‘filter’ argument to profile_compare()- see manual page for usage</li>
<li>added new argument to plot.SoilProfileCollection()- alt.label: used to add secondary labeling via data in <a href="https://github.com/site" class="external-link">@site</a></li>
<li>plot.SoilProfileCollection() will now do a better job of selecting the location for profile IDs based on label length, font size, and figure size</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3-2" id="aqp-13-2-2012-11-01">aqp 1.3-2 (2012-11-01)<a class="anchor" aria-label="anchor" href="#aqp-13-2-2012-11-01"></a></h2>
<ul><li>minor tweaks to plot.SoilProfileCollection() for improved output with small/large size collections</li>
<li>new function get.ml.hz() attempts to determine the most likely horizonation after slabbing</li>
<li>fixed bug in profileApply() where further arguments to FUN weren’t passed on to FUN</li>
<li>missing data report from profile_compare() now only includes horizons with some data (e.g. Cr and R horizons are skipped)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3-1" id="aqp-13-1-2012-10-17">aqp 1.3-1 (2012-10-17)<a class="anchor" aria-label="anchor" href="#aqp-13-1-2012-10-17"></a></h2>
<ul><li>speed-bump in profileApply()
<ul><li>splitProfiles() function is no longer defined/used/needed</li>
</ul></li>
<li>bug fix in SoilProfileCollection subsetting via []
<ul><li>SoilProfiles with a single horizon confused subsetting in the presence of spatial data</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3" id="aqp-13-2012-10-07">aqp 1.3 (2012-10-07)<small>2012-10-10</small><a class="anchor" aria-label="anchor" href="#aqp-13-2012-10-07"></a></h2>
<ul><li>added rbind.SoilProfileCollection() for concatenating SPC objects
<ul><li>this function performs basic sanity checks, but cannot combine unlike objects</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-10" id="aqp-12-10-2012-09-05">aqp 1.2-10 (2012-09-05)<a class="anchor" aria-label="anchor" href="#aqp-12-10-2012-09-05"></a></h2>
<ul><li>fixed minor bug in prepanel.depth_function() where an error would occur when input data was all NA</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-9" id="aqp-12-9-2012-08-31">aqp 1.2-9 (2012-08-31)<a class="anchor" aria-label="anchor" href="#aqp-12-9-2012-08-31"></a></h2>
<ul><li>new ‘unique’ method for SoilProfileCollection objects, returns indices of unique profiles</li>
<li>fixed bug in NAMESPACE that caused an error when ‘sp’ library wasn’t loaded</li>
<li>added another sanity check to ‘site&lt;-’ for cases where duplicates occur in the source data set</li>
<li>added some new documentation to package help page see ‘help(aqp)’ for details</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-8" id="aqp-12-8-2012-08-28">aqp 1.2-8 (2012-08-28)<a class="anchor" aria-label="anchor" href="#aqp-12-8-2012-08-28"></a></h2>
<ul><li>the names() method for SoilProfileCollection objects now returns a named list of horizon and site column names</li>
<li>improved examples: see ?sp4 and ?ca630</li>
<li>fixed minor bug related to subsetting a SoilProfileCollection object, followed by coercion to SpatialPointsDataFrame</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-7" id="aqp-12-7-2012-08-23">aqp 1.2-7 (2012-08-23)<small>2012-08-27</small><a class="anchor" aria-label="anchor" href="#aqp-12-7-2012-08-23"></a></h2>
<ul><li>plot() method for SoilProfileCollection object no longer sets page margins, this will cause some figures to change</li>
<li>added demo ‘slope_effect_hz_thickness’</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2-6" id="aqp-12-6-2012-06-26">aqp 1.2-6 (2012-06-26)<a class="anchor" aria-label="anchor" href="#aqp-12-6-2012-06-26"></a></h2>
<ul><li>fixed minor bug in panel.depth_function(): grouping + paneling ignored full suite of colors</li>
<li>fixed minor bug in NAMESPACE</li>
<li>minor bug fix in unroll(), was not previously respecting the max depth argument</li>
<li>minor speed-bump and simplification of profile_compare()</li>
<li>documentation updates</li>
<li>added helper message related to profile_compare() stopping when any profile contains insufficient data</li>
<li>profile_compare() now issues a notice when <em>some</em> data are missing, leading to biased results</li>
<li>slice() now computes the fraction of variables within a slice that are missing data ! bug introduced into slab() when use.wts=TRUE [should have a fix soon]</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1" id="aqp-11-2012-04-18">aqp 1.1 (2012-04-18)<a class="anchor" aria-label="anchor" href="#aqp-11-2012-04-18"></a></h2>
<ul><li>merged documentation for soil.slot() and slab()
<ul><li>slab() should be used in all places where soil.slot() was used</li>
<li>soil.slot() will disappear from the package NAMESPACE eventually, so don’t use it directly!</li>
</ul></li>
<li>minor bug fix in panel.depth_function()</li>
<li>cleanup of documentation and examples</li>
<li>added horizon boundary distinctness code conversions and plotting functionality
<ul><li>see ?sp1 and ?random_profile for new examples</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0-2" id="aqp-10-2-2012-03-29">aqp 1.0-2 (2012-03-29)<a class="anchor" aria-label="anchor" href="#aqp-10-2-2012-03-29"></a></h2>
<ul><li>More NAMESPACE cleaning</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0-1" id="aqp-10-1-2012-03-28">aqp 1.0-1 (2012-03-28)<a class="anchor" aria-label="anchor" href="#aqp-10-1-2012-03-28"></a></h2>
<ul><li>Cleaned NAMESPACE and DESCRIPTION</li>
<li>removed un-necessary dependencies</li>
<li>join added to the plyr imports</li>
<li>added scales to the Imports as well, and removed rescaler() in the code, repaced by scales::rescale</li>
<li>hack in munsell2rgb to avoid the ‘no visible binding for global variable ’munsell’ at package R CMD check and make the whole thing more robust (using load and system.file rather than data(…)</li>
<li>Dylan is now the only maintainer, as per Uwe request</li>
<li>when using plyr **ply function, switched from using the .(foo) interface to “foo” - seems more foolproof</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0" id="aqp-10-2012-03-26">aqp 1.0 (2012-03-26)<small>2012-03-27</small><a class="anchor" aria-label="anchor" href="#aqp-10-2012-03-26"></a></h2>
<ul><li>1.0 release, still missing condensed vignettes- should be ready soon</li>
<li>see <a href="https://casoilresource.lawr.ucdavis.edu/drupal/taxonomy/term/56" class="external-link uri">https://casoilresource.lawr.ucdavis.edu/drupal/taxonomy/term/56</a> for samples</li>
<li>A small bug in profile_compare() was fixed, where slices were evaluated as ‘soil’ based on the bottom depth of the profile, and NOT on the presence of actual data. See ?profile_compare for details. This change will have a minor affect on profile comparisons in cases where Cr or R horizons (usually missing most characterization data) have been extended down to some arbitrary depth (usually 150 or 200 cm) AND a maximum depth of evaluation (max_d) was set beyond the actual depth of most profiles in the collection.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9.8" id="aqp-099-98-2012-03-02">aqp 0.99-9.8 (2012-03-02)<a class="anchor" aria-label="anchor" href="#aqp-099-98-2012-03-02"></a></h2>
<ul><li>profile_compare() will now use site-level attributes if input is a SoilProfileCollection
<ul><li>horizon / site level data currently weighted equally</li>
<li>NOTE: this feature is new, test-first!</li>
</ul></li>
<li>minor bug fixes in profile_compare() to remove spurious warnings</li>
<li>better error check in slice()</li>
<li>removed old code and documentation: format_slices() and plot_slices()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9.6" id="aqp-099-96-2012-02-21">aqp 0.99-9.6 (2012-02-21)<a class="anchor" aria-label="anchor" href="#aqp-099-96-2012-02-21"></a></h2>
<ul><li>spurious warnings from profile_compare() caused by daisy() now suppressed
<ul><li>warnings were generated when calling daisy() on a matrix of all NA which typically occurred when using too-large a lower depth for evaluation of D</li>
</ul></li>
<li>preliminary support for diagnostic horizons via diagnostic_hz()</li>
<li>new examples</li>
<li>error and warnings messages cleaned-up</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9.52" id="aqp-099-952-2012-01-31">aqp 0.99-9.52 (2012-01-31)<a class="anchor" aria-label="anchor" href="#aqp-099-952-2012-01-31"></a></h2>
<ul><li>converting all messages passed to the user from cat() to message() and warning()</li>
<li>profile_compare() and slab() now default to <em>no</em> progress bars, see ‘progress’ argument to adjust</li>
<li>profileApply() now provides access to all aspects of the SoilProfileCollection object
<ul><li>that means that: profileApply(SPC, function(x) … ) operates on x, which is a soilProfileCollection containing only profile_i <em>note that this may break functionality based on aqp 0.99-9.3</em>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9.4" id="aqp-099-94-2012-01-09">aqp 0.99-9.4 (2012-01-09)<a class="anchor" aria-label="anchor" href="#aqp-099-94-2012-01-09"></a></h2>
<ul><li>
<code>site(SCP) &lt;- d</code> now tries to merge data from <a href="mailto:SPC@site" class="email">SPC@site</a> with ‘d’ via left join
<ul><li>this means that all new SPC objects will have a single column of <a href="https://github.com/site" class="external-link">@site</a> data, containing profile IDs</li>
</ul></li>
<li>plot-SoilProfileCollection now tries to guess the best orientation of IDs
<ul><li>override with id.style=‘top’ or id.style=‘side’</li>
</ul></li>
<li>slice-SoilProfileCollection now accepts ‘.’ to define all columns should be returned at requested slices
<ul><li>slice(SPC, 1:50 ~ . ) # this means all vars. ID, top, bottom are automatically removed</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9.1" id="aqp-099-91-2011-12-27">aqp 0.99-9.1 (2011-12-27)<small>2012-01-03</small><a class="anchor" aria-label="anchor" href="#aqp-099-91-2011-12-27"></a></h2>
<ul><li>pedonPC, NASIS, and SDA functions moved <em>out</em> of aqp, and <em>into</em> new package: soilDB
<ul><li>removed associated, suggested packages from aqp</li>
<li>soilDB will be on CRAN shortly</li>
</ul></li>
<li>new argument to plot(SoilProfileCollection, …, divide.hz=TRUE|FALSE) that can optionally suppress plotting of dividing lines between horizons (suggested by Ludwig Hilger)</li>
<li>new function profileApply() for applying functions by profile</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-9" id="aqp-099-9-2011-12-22">aqp 0.99-9 (2011-12-22)<small>2011-12-27</small><a class="anchor" aria-label="anchor" href="#aqp-099-9-2011-12-22"></a></h2>
<ul><li>almost ready for AQP 1.0, vignettes are the last missing piece :)</li>
<li>slice(SPC, …) is now 10-100x faster, scales linearly</li>
<li>slice(SPC, …) can simultaneously slice categorical and continuous variables</li>
<li>converted ID column in sample data to character class</li>
<li>fixed a bug in slice() where NA would be returned when IDs were factors</li>
<li>added test to depths()&lt;- such that factor IDs are converted into character IDs and a warning is issued</li>
<li>added join conditions for most functions using plyr::join(), resulting in less chatter on the console</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-8.58" id="aqp-099-858-2011-12-21">aqp 0.99-8.58 (2011-12-21)<a class="anchor" aria-label="anchor" href="#aqp-099-858-2011-12-21"></a></h2>
<ul><li>WARNING: soil.slot.multiple() renamed to slab()</li>
<li>fixed minor bug in slice(), when numerical IDs are used: ddply() and cast() implicitly re-order data…</li>
<li>added <code>strict</code> argument to many functions, to gracefully account for bad horizon data
<ul><li>enforce quality control with strict=TRUE</li>
</ul></li>
<li>munsell2rgb() is now 100x faster thanks to plyr::join()
<ul><li>note that factors cannot be used in the conversion, see: <a href="https://github.com/hadley/plyr/issues/43" class="external-link uri">https://github.com/hadley/plyr/issues/43</a>
<ul><li>there is a check and conversion within the function that should prevent segfaults</li>
</ul></li>
</ul></li>
<li>documentation updates, demo(aqp) updates, more examples</li>
<li>bug fix in slice(), now works with numeric OR categorical vars, but NOT both…</li>
<li>matrix-style subsetting functional:
<ul><li>s[i, j] —&gt; i is the profile index, and j is the horizon/slice index</li>
<li>s[i, ] returns a SoilProfileCollection</li>
<li>s[, j] returns a SpatialPointsDataFrame when a single slice is used</li>
</ul></li>
<li>spatial_subset() can be used to extract members of a SoilProfileCollection with a geometry (uses rgeos)</li>
<li>smarter $&lt;- methods so that site/horizon data slots are auto-selected</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-8.50" id="aqp-099-850-2011-11-29">aqp 0.99-8.50 (2011-11-29)<a class="anchor" aria-label="anchor" href="#aqp-099-850-2011-11-29"></a></h2>
<ul><li>added “site(SoilProfileCollection) &lt;-” method for data.frame</li>
<li>started VERY basic AQP Introduction vignette… still experimental</li>
<li>adding coercion methods for common objects and sp-class objects</li>
<li>matrix-style subsetting almost works:
<ul><li>s[i, j] —&gt; i is the profile index, and j is the horizon/slice index</li>
</ul></li>
<li>added a ‘slice’ method for SoilProfileCollection objects
<ul><li>returns selected variables along depth slice(s) (i.e. no aggregation)</li>
</ul></li>
<li>added NAMESPACE file for R &gt;= 2.14 compatibility</li>
<li>stabilized S4 class, working on S4-izing all related functions</li>
<li>preliminary documentation on the new S4 classes/methods</li>
<li>logistic power peak (LPP) can now be used to generate synthetic depth functions</li>
<li>added contributing fraction annotation in panel.depth_function()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-8.4" id="aqp-099-84-2011-10-04">aqp 0.99-8.4 (2011-10-04)<a class="anchor" aria-label="anchor" href="#aqp-099-84-2011-10-04"></a></h2>
<ul><li>minor bug fixes and enhancements in PedonPC function</li>
<li>S4 interface to soil.slot.multiple()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-8.2" id="aqp-099-82-2011-09-21">aqp 0.99-8.2 (2011-09-21)<a class="anchor" aria-label="anchor" href="#aqp-099-82-2011-09-21"></a></h2>
<ul><li>added S4 class/methods for <code>SoilProfileCollection</code>
<ul><li>this supersedes the (now removed) S3 <code>SoilProfileList</code> classes</li>
<li>basic accessors/setters are in place, subject to change</li>
</ul></li>
<li>profile_plot() now uses the <code>SoilProfileCollection</code> class
<ul><li><em>initSoilProfileList() is no longer supported; see depths() for similar functionality</em></li>
<li><em>expect some tumultuous times ahead in the API… should be ironed out by 1.0 release</em></li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-8" id="aqp-099-8-2011-09-14">aqp 0.99-8 (2011-09-14)<small>2011-09-16</small><a class="anchor" aria-label="anchor" href="#aqp-099-8-2011-09-14"></a></h2>
<ul><li>soil.slot() will now accept boundaries defining a ‘slab’ over which aggregates are computed</li>
<li>soil.slot.multiple() now cleanly wraps soil.slot(), accepting all arguments
<ul><li>these two changes make it possible to ask: “what is the wt. mean value of some property within this slab, and among these groups?”</li>
<li>soil.slot.multiple() now uses a formula interface: NOTE that this will break existing scripts (sorry)</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-7" id="aqp-099-7-2011-09-01">aqp 0.99-7 (2011-09-01)<a class="anchor" aria-label="anchor" href="#aqp-099-7-2011-09-01"></a></h2>
<ul><li>
<p>new functions for getting data out of PedonPC (MS Access) databases [windows only for now]</p>
<ul><li>get_site_data_from_pedon_db() : site and pedon aggregate data</li>
<li>get_hz_data_from_pedon_db() : horizon level data</li>
<li>get_colors_from_pedon_db() : formats and mixes multiple colors / horizon</li>
</ul></li>
<li><p>implemented in mix_and_clean_colors()</p></li>
<li><p>test_hz_logic() : basic function for testing horizon logic, returns TRUE/FALSE by ID</p></li>
<li><p>parallel operations now NON-functional, while we wait for plyr to support doSMP…</p></li>
<li><p>new ID plotting style for profile_plot() : handy when plotting large collections and/or long IDs</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-4" id="aqp-099-4-2011-08-15">aqp 0.99-4 (2011-08-15)<a class="anchor" aria-label="anchor" href="#aqp-099-4-2011-08-15"></a></h2>
<ul><li>code and documentation clean-up</li>
<li>Soil Sata Access (SDA) query functions have been added
<ul><li>
<code>mapunit_geom_by_ll_bbox()</code> : get map unit geometry by bounding box</li>
<li>
<code>MUKEYS_by_ll_bbox()</code> : get map unit keys by bounding box</li>
<li>
<code><a href="http://ncss-tech.github.io/soilDB/reference/SDA_query.html" class="external-link">SDA_query()</a></code> : retrieve soil tabular data via query written in SQL</li>
</ul></li>
<li>additional customization added to <code>plotSPC</code>
</li>
<li>two new sample data sets + examples</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99-1" id="aqp-099-1-2011-01-26">aqp 0.99-1 (2011-01-26)<small>2011-02-28</small><a class="anchor" aria-label="anchor" href="#aqp-099-1-2011-01-26"></a></h2>
<ul><li>soil.slot() and profile_compare() now have support for parallel computation thanks to bug-fixes in plyr 1.4
<ul><li>plyr &gt;= 1.4, foreach, and doMC packages are required</li>
<li>specific examples are not yet documented, but should be soon</li>
<li>this feature is still experimental! testing is advised</li>
</ul></li>
<li>
<code><a href="../reference/profile_compare.html">profile_compare()</a></code> now calculates slice-wise dissimilarity matrices in 1/3 the time (thanks llply!)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.98-4" id="aqp-098-4-2010-12-15">aqp 0.98-4 (2010-12-15)<a class="anchor" aria-label="anchor" href="#aqp-098-4-2010-12-15"></a></h2>
<ul><li>fixed minor bug in soil.slot() when computing probabilities from profiles that had missing horizons and that had only a single class within the variable to be aggregated</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.98-1" id="aqp-098-1-2010-11-23">aqp 0.98-1 (2010-11-23)<a class="anchor" aria-label="anchor" href="#aqp-098-1-2010-11-23"></a></h2>
<ul><li>added basic demo: demo(aqp)</li>
<li>soil.slot() now computes aggregate probabilities over user-defined segments</li>
<li>re-write of weighted profile aggregation functions
<ul><li>aqp package now requires Hmisc package</li>
<li>using Hmisc::wtd.{mean,var,quantile} to compute values</li>
</ul></li>
<li>better adjustment of weights when computing weighted SD</li>
<li>fixes long-standing bugs with wt. mean/SD when NA present in x_i and not in wt_i</li>
<li>weighted quantiles now computed
<ul><li>addition of new (experimental) S4 classes and methods</li>
<li>these are now in the aqp_S4 branch</li>
</ul></li>
<li>added n.depth.ticks option to profile_plot()</li>
<li>profile_compare() algorithm stabilized, new default settings</li>
<li>removed code in profile_compare() that is now obsolete
<ul><li>note that this will cause changes to numerical classification of soil profiles</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.97-1" id="aqp-097-1-2010-10-06">aqp 0.97-1 (2010-10-06)<a class="anchor" aria-label="anchor" href="#aqp-097-1-2010-10-06"></a></h2>
<ul><li>verified that weighted standard deviations are correct when seg_size &gt; 1</li>
<li>removed notices about possible problems with sd calculations</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.97" id="aqp-097-2010-09-22">aqp 0.97 (2010-09-22)<small>2010-09-24</small><a class="anchor" aria-label="anchor" href="#aqp-097-2010-09-22"></a></h2>
<ul><li>soil.slot() streamlined and functionality restored to pre-0.95 condition</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.96-1" id="aqp-096-1-2010-09-21">aqp 0.96-1 (2010-09-21)<a class="anchor" aria-label="anchor" href="#aqp-096-1-2010-09-21"></a></h2>
<ul><li>fixed weighted mean / SD calculation when using 1 unit segments in soil.slot()
<ul><li>wt. mean / SD still disabled for user-defined segment sizes</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.96" id="aqp-096-2010-09-20">aqp 0.96 (2010-09-20)<a class="anchor" aria-label="anchor" href="#aqp-096-2010-09-20"></a></h2>
<ul><li>temporarily disabled parallel computation, will be re-added in next release</li>
<li>bug fixes in panel.depth_function where ‘groups’ was not defined</li>
<li>bug fixes and major re-factoring of soil.slot() when called with user-defined segment size, or segmenting vector:
<ul><li>SD values are probably too low due to an inflated ‘n’ in the calculation</li>
<li>calculation of weighted mean and sd is currently disabled</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.95" id="aqp-095-2010-09-15">aqp 0.95 (2010-09-15)<a class="anchor" aria-label="anchor" href="#aqp-095-2010-09-15"></a></h2>
<ul><li>added VERY experimental support for parallel processing based on the latest versions of plyr, doMC, and foreach packages</li>
<li>updated vignette with technical details on aggregation and dissimilarity computation</li>
<li>new options to profile_plot()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.94" id="aqp-094-2010-08-11">aqp 0.94 (2010-08-11)<small>2010-08-14</small><a class="anchor" aria-label="anchor" href="#aqp-094-2010-08-11"></a></h2>
<ul><li>fixed bug in soil.slot() when aggregating a categorical variable, with a user-supplied segmenting vector</li>
<li>soil.slot() now requires that categorical variables be encoded as factors</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.93" id="aqp-093-2010-08-07">aqp 0.93 (2010-08-07)<a class="anchor" aria-label="anchor" href="#aqp-093-2010-08-07"></a></h2>
<ul><li>bug fixes, new documentation + examples</li>
<li>AQP now requires R &gt;= 2.9.0</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.92" id="aqp-092-2010-08-03">aqp 0.92 (2010-08-03)<a class="anchor" aria-label="anchor" href="#aqp-092-2010-08-03"></a></h2>
<ul><li>including a new column in the results from soil.slot(), denoting number of profiles used in slice-wise aggregation</li>
<li>added note to soil.slot() manual page highlighting possible problems with SD calculation</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.90" id="aqp-090-2010-07-13">aqp 0.90 (2010-07-13)<small>2010-07-24</small><a class="anchor" aria-label="anchor" href="#aqp-090-2010-07-13"></a></h2>
<ul><li>better error checking on profile aggregation and classification functions</li>
<li>most functions now require that horizon depths are integers</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.89" id="aqp-089-2010-07-10">aqp 0.89 (2010-07-10)<a class="anchor" aria-label="anchor" href="#aqp-089-2010-07-10"></a></h2>
<ul><li>added plot_distance_graph() function for visualizing between-profile dissimilarity</li>
<li>updated documentation: extended manual is now accessible as a vignette</li>
<li>major improvements in profile_compare() when add_soil_flag=TRUE and replace_na=TRUE
<ul><li>appears to create much more realistic groupings when there are both shallow and deep soils in the collection</li>
<li>new functionality requires further testing</li>
</ul></li>
<li>plotting under dendrograms generated by ape::plot.phylo() may need some manual adjustments</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.88" id="aqp-088-2010-07-06">aqp 0.88 (2010-07-06)<small>2010-07-08</small><a class="anchor" aria-label="anchor" href="#aqp-088-2010-07-06"></a></h2>
<ul><li>new version of plyr (1.0) should speed up most functions in aqp package</li>
<li>added support for user-defined aggregate functions in soil.slot and soil.slot.multiple</li>
<li>planning addition of PCA by depth slice</li>
<li>planning addition of equal-area spline fitting</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

